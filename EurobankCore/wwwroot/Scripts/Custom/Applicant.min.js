function onChangeCompanyDetailsDOI(){$("#CompanyDetails_HdnDateofIncorporation").val($("#CompanyDetails_DateofIncorporation").val())}function onChangePersonalDetailsDOB(){$("#PersonalDetails_HdnDateOfBirth").val($("#PersonalDetails_DateOfBirth").val());validatePersonalDetails()}function SelectConfirmPersonIndYes(){personSearchGrid();var dialog=$("#ReSelectConfirmPersonInd").data("kendoWindow");dialog.close()}function SelectConfirmPersonIndNo(){var dialog=$("#ReSelectConfirmPersonInd").data("kendoWindow");dialog.close()}function OpenSelectConfirmPersonInd(){if($("#ApplicantId").val()>0){var dialog=$("#ReSelectConfirmPersonInd").data("kendoWindow"),window=$("#DeleteWindow").data("kendoWindow");dialog.wrapper.addClass("middle-popup");dialog.center().open()}else SelectConfirmPersonIndYes()}function searchPersons(){var applicationTypevalue=$("#toolApplicationType").val(),fullNamevalue=$("#toolFullName").val(),identificationNumbervalue=$("#toolIdentificationNumber").val(),dateofBirthvalue=$("#toolDateofBirth").val(),issueDatevalue=$("#toolIssueDate").val(),citizenshipNamevalue=$("#toolCitizenshipName").val();grid=$("#RegPersons").data("kendoGrid");applicationTypevalue||fullNamevalue||identificationNumbervalue||dateofBirthvalue||issueDatevalue||citizenshipNamevalue?(console.log("in"),grid.dataSource.filter({logic:"and",filters:[{field:"ApplicationTypeName",operator:"contains",value:applicationTypevalue},{field:"FullName",operator:"contains",value:fullNamevalue},{field:"IdentificationNumber",operator:"contains",value:identificationNumbervalue},{field:"DateofBirth",operator:"contains",value:dateofBirthvalue},{field:"IssueDate",operator:"contains",value:issueDatevalue},{field:"CitizenshipName",operator:"contains",value:citizenshipNamevalue},]})):grid.dataSource.filter({})}function selectPersonFromGrid(){var grid=$("#RegPersons").data("kendoGrid"),selectedItem=grid.dataItem(grid.select()),dropdownlistTitle=$("#PersonalDetails_Title").data("kendoDropDownList"),dropdownlistGender,dropdownlistCOB,educationLevel,homeTelCountryCode,mobileTelCountryCode,workTelCountryCode,faxTelCountryCode,preferredCommunicationLang,newRow,gridIdentification,addedRow;dropdownlistTitle.value(selectedItem.Title);$("#PersonalDetails_FirstName").val(selectedItem.FirstName);$("#PersonalDetails_LastName").val(selectedItem.LastName);$("#PersonalDetails_FathersName").val(selectedItem.FatherName);dropdownlistGender=$("#PersonalDetails_Gender").data("kendoDropDownList");dropdownlistGender.value(selectedItem.Gender);$("#PersonalDetails_DateOfBirth").val(selectedItem.DateofBirth);$("#PersonalDetails_HdnDateOfBirth").val(selectedItem.DateofBirth);$("#PersonalDetails_PlaceOfBirth").val(selectedItem.PlaceofBirth);dropdownlistCOB=$("#PersonalDetails_CountryOfBirth").data("kendoDropDownList");dropdownlistCOB.value(selectedItem.CountryofBirth);educationLevel=$("#PersonalDetails_EducationLevel").data("kendoDropDownList");educationLevel!=undefined&&educationLevel.value(selectedItem.EducationLevel);homeTelCountryCode=$("#Country_Code_HomeTelNoNumber").data("kendoDropDownList");typeof homeTelCountryCode!="undefined"?(homeTelCountryCode.value(selectedItem.HomeTelNoCountryCode),$("#ContactDetails_HomeTelNoNumber").val(selectedItem.HomeTelNoNumber),mobileTelCountryCode=$("#Country_Code_MobileTelNoNumber").data("kendoDropDownList"),mobileTelCountryCode.value(selectedItem.MobileTelNoCountryCode),$("#ContactDetails_MobileTelNoNumber").val(selectedItem.MobileTelNoNumber),workTelCountryCode=$("#Country_Code_WorkTelNoNumber").data("kendoDropDownList"),workTelCountryCode.value(selectedItem.WorkTelNoCountryCode),$("#ContactDetails_WorkTelNoNumber").val(selectedItem.WorkTelNoNumber),faxTelCountryCode=$("#Country_Code_FaxNoFaxNumber").data("kendoDropDownList"),faxTelCountryCode.value(selectedItem.FaxNoCountryCode),$("#ContactDetails_FaxNoFaxNumber").val(selectedItem.FaxNoFaxNumber),$("#ContactDetails_ContactDetails_EmailAddress").val(selectedItem.EmailAddress),preferredCommunicationLang=$("#ContactDetails_ContactDetails_PreferredCommunicationLanguage").data("kendoDropDownList"),preferredCommunicationLang.value(selectedItem.PreferredCommunicationLanguage)):($("#ContactDetails_IsRetriveFromRegistry").val("true"),$("#ContactDetails_hdnCountry_Code_MobileTelNoNumber").val(selectedItem.MobileTelNoCountryCode),$("#ContactDetails_hdnContactDetails_MobileTelNoNumber").val(selectedItem.MobileTelNoNumber),$("#ContactDetails_hdnCountry_Code_HomeTelNoNumber").val(selectedItem.HomeTelNoCountryCode),$("#ContactDetails_hdnContactDetails_HomeTelNoNumber").val(selectedItem.HomeTelNoNumber),$("#ContactDetails_hdnCountry_Code_WorkTelNoNumber").val(selectedItem.WorkTelNoCountryCode),$("#ContactDetails_hdnContactDetails_WorkTelNoNumber").val(selectedItem.WorkTelNoNumber),$("#ContactDetails_hdnCountry_Code_FaxNoFaxNumber").val(selectedItem.FaxNoCountryCode),$("#ContactDetails_hdnContactDetails_FaxNoFaxNumber").val(selectedItem.FaxNoFaxNumber));newRow={CitizenshipValue:selectedItem.Citizenship,IdentificationDetails_TypeOfIdentification:selectedItem.TypeofIdentification,IdentificationDetails_IdentificationNumber:selectedItem.IdentificationNumber,CountryOfIssueValue:selectedItem.IssuingCountry,IdentificationDetails_IssueDate:selectedItem.IssueDateTime,IdentificationDetails_ExpiryDate:selectedItem.ExpiryDateTime,Status:!1};gridIdentification=$("#IdentificationDetails").data("kendoGrid");typeof gridIdentification!="undefined"?(addedRow=gridIdentification.dataSource.add(newRow),gridIdentification.saveChanges(),rowIdenItem=addedRow):($("#hdnCitizenship").val(selectedItem.Citizenship),$("#hdnTypeofIdentification").val(selectedItem.TypeofIdentification),$("#hdnIdentificationNumber").val(selectedItem.IdentificationNumber),$("#hdnIssuingCountry").val(selectedItem.IssuingCountry),$("#hdnIssueDateTime").val(selectedItem.IssueDateTime),$("#hdnExpiryDateTime").val(selectedItem.ExpiryDateTime));$("#PersonSearchWindow").data("kendoWindow").close();$("#divRegisteredPerson").css("display","none");$("#PersonalDetails_PersonRegistryId").val(selectedItem.NodeID);ChangeMaxLengthIndividualFaxNo();ChangeMaxLengthIndividualWorkNo();ChangeMaxLengthIndividualMobileNo();ChangeMaxLengthIndividualHomeNo()}function personCancelGrid(){$("#PersonSearchWindow").data("kendoWindow").close();$("#divRegisteredPerson").css("display","none")}function personSearchGrid(){$("#RegPersons").data("kendoGrid").dataSource.read();var searchWindow=$("#PersonSearchWindow").data("kendoWindow");searchWindow.wrapper.addClass("middle-popup");searchWindow.center();searchWindow.open();$("#divRegisteredPerson").css("display","block")}function clearContact(){var homeTelCountryCode=$("#Country_Code_HomeTelNoNumber").data("kendoDropDownList"),mobileTelCountryCode,workTelCountryCode,faxTelCountryCode,preferredCommunicationLang;homeTelCountryCode.value("");$("#ContactDetails_HomeTelNoNumber").val("");mobileTelCountryCode=$("#Country_Code_MobileTelNoNumber").data("kendoDropDownList");mobileTelCountryCode.value("");$("#ContactDetails_MobileTelNoNumber").val("");workTelCountryCode=$("#Country_Code_WorkTelNoNumber").data("kendoDropDownList");workTelCountryCode.value("");$("#ContactDetails_WorkTelNoNumber").val("");faxTelCountryCode=$("#Country_Code_FaxNoFaxNumber").data("kendoDropDownList");faxTelCountryCode.value("");$("#ContactDetails_FaxNoFaxNumber").val("");$("#ContactDetails_ContactDetails_EmailAddress").val("");preferredCommunicationLang=$("#ContactDetails_ContactDetails_PreferredCommunicationLanguage").data("kendoDropDownList");preferredCommunicationLang.value("")}function clearPersonallDetailsIndividual(){var personallDetailsTitle=$("#PersonalDetails_Title").data("kendoDropDownList"),personallDetailsGender,personallDetailsContry,educationLevel,gridIdentity;personallDetailsTitle.value("");$("#PersonalDetails_FirstName").val("");$("#PersonalDetails_LastName").val("");$("#PersonalDetails_FathersName").val("");personallDetailsGender=$("#PersonalDetails_Gender").data("kendoDropDownList");personallDetailsGender.value("");$("#PersonalDetails_DateOfBirth").val("");$("#PersonalDetails_PlaceOfBirth").val("");personallDetailsContry=$("#PersonalDetails_CountryOfBirth").data("kendoDropDownList");personallDetailsContry.value("");educationLevel=$("#PersonalDetails_EducationLevel").data("kendoDropDownList");educationLevel!=undefined&&educationLevel.value("");gridIdentity=$("#IdentificationDetails").data("kendoGrid");id=gridIdentity.dataSource.total();id>0&&gridIdentity.removeRow("tr:eq("+id+")")}function showHideEmpStatusBasedBlock(e){var specialEmpStatuses=$("#hdnSpecialEmpStatuses").val(),formerStatuses=$("#hdnFormerEmpStatuses").val(),formerStatusesArray=formerStatuses.split(","),specialEmpStatusesArray=specialEmpStatuses.split(","),dataItem=this.dataItem(e.item);dataItem.Value!=null&&dataItem.Value!=undefined&&dataItem.Value!==""?(specialEmpStatusesArray.indexOf(dataItem.Text)>-1?$(".specialStatusBlock").hide():$(".specialStatusBlock").show(),formerStatusesArray.indexOf(dataItem.Text)>-1?$(".formarStatusBlock").show():$(".formarStatusBlock").hide()):($(".specialStatusBlock").hide(),$(".formarStatusBlock").hide())}function onChangeEmploymentStatus(){var selectedValue=$("#EmploymentStatus").data("kendoDropDownList").text();selectedValue=="HOMEMAKER"||selectedValue=="STUDENT/MILITARY SERVICES"?($("#DIVProfession").css("display","none"),$("#DIVFormerProfession").css("display","none")):selectedValue=="PUBLIC SECTOR EMPLOYEE"||selectedValue=="SEMI-GOVERNMENT SECTOR EMPLOYEE"||selectedValue=="PRIVATE SECTOR EMPLOYEE"||selectedValue=="SELF-EMPLOYED"?($("#DIVProfession").css("display","block"),$("#DIVFormerProfession").css("display","none")):(selectedValue=="RETIRED"||selectedValue=="UNEMPLOYED")&&($("#DIVProfession").css("display","none"),$("#DIVFormerProfession").css("display","block"));validateBusinessAndFinancialProfile()}function onDataBound(e){var specialEmpStatuses=$("#hdnSpecialEmpStatuses").val(),formerStatuses=$("#hdnFormerEmpStatuses").val(),formerStatusesArray=formerStatuses.split(","),specialEmpStatusesArray=specialEmpStatuses.split(","),dataItem=this.dataItem(e.item);dataItem.Value!=null&&dataItem.Value!=undefined&&dataItem.Value!==""?(specialEmpStatusesArray.indexOf(dataItem.Text)>-1?$(".specialStatusBlock").hide():$(".specialStatusBlock").show(),formerStatusesArray.indexOf(dataItem.Text)>-1?($(".formarStatusBlock").show(),$(".specialStatusBloMainBusinessActivitiesck").hide()):($(".formarStatusBlock").hide(),$(".specialStatusBloMainBusinessActivitiesck").show())):($(".specialStatusBlock").hide(),$(".formarStatusBlock").hide())}function isAllConfirmed(menuTitle,moduleName,gridName,isRecordMandatory){var searchName="Pending",isNotCompleted=!1,kendoGrid=$("#"+gridName).data("kendoGrid"),gridRecordCount=kendoGrid.dataSource.total(),steps,searchNameFound;moduleName=="Address"&&(gridRecordCount=$("#"+gridName+" .k-grid-content .k-master-row").length);steps=$("#ApplicationStepper").data("kendoStepper")._steps;searchNameFound=kendoGrid.dataSource.data().some(function(dataItem){var arr;(moduleName=="Identification"||moduleName=="Address"||moduleName=="Tax")&&dataItem.StatusName==searchName&&(isNotCompleted=!0);kendoGrid.dataSource.indexOf(dataItem)==gridRecordCount-1&&(isNotCompleted?($("#ApplicationStepper a[title='"+menuTitle+"' i]").parent().removeClass("k-step-done").removeClass("k-step-success").addClass("k-step-error"),$("#ApplicationStepper a[title='"+menuTitle+"' i]").find("span .k-step-indicator-icon.k-icon").removeClass("k-i-checkmark-circle").addClass("k-i-video-external"),$("#ApplicationStepper a[title='"+menuTitle+"' i]").attr("aria-invalid","true"),arr=jQuery.grep(steps,function(n,i){n.options.label==menuTitle&&($("#ApplicationStepper").data("kendoStepper")._steps[i].options.error=!0,$("#ApplicationStepper").data("kendoStepper")._steps[i].options.icon="video-external")})):($("#ApplicationStepper a[title='"+menuTitle+"' i]").parent().removeClass("k-step-error").addClass("k-step-done").addClass("k-step-success"),arr=jQuery.grep(steps,function(n,i){n.options.label==menuTitle&&($("#ApplicationStepper").data("kendoStepper")._steps[i].options.error=!1,$("#ApplicationStepper").data("kendoStepper")._steps[i].options.icon="checkmark-circle")}),$("#ApplicationStepper a[title='"+menuTitle+"' i]").find("span .k-step-indicator-icon.k-icon").removeClass("k-i-video-external").addClass("k-i-checkmark-circle"),$("#ApplicationStepper a[title='"+menuTitle+"' i]").removeAttr("aria-invalid"),$("#ApplicationStepper a[title='"+menuTitle+"' i]").find("span .k-icon.k-i-warning").remove()))});gridRecordCount==0&&isRecordMandatory!=undefined&&isRecordMandatory==!0&&setMenuError(menuTitle)}function isAllPepDetailsConfirmed(){var menuTitle=$("#hdnApplication_Applicant_LeftMenu_PEPDetails").val(),searchName="Pending",isNotCompleted=!1,ddlPepApplicant=$("#IsPepID").val(),ddlPepFamily=$("#IsRelatedToPepID").val(),steps=$("#ApplicationStepper").data("kendoStepper")._steps,arr,kendoGrid,kendoGrid2,searchNameFound;ddlPepApplicant=="false"&&ddlPepFamily=="false"?($("#ApplicationStepper a[title='"+menuTitle+"' i]").parent().removeClass("k-step-error").addClass("k-step-done").addClass("k-step-success"),arr=jQuery.grep(steps,function(n,i){n.options.label==menuTitle&&($("#ApplicationStepper").data("kendoStepper")._steps[i].options.error=!1,$("#ApplicationStepper").data("kendoStepper")._steps[i].options.icon="checkmark-circle")}),$("#ApplicationStepper a[title='"+menuTitle+"' i]").find("span .k-step-indicator-icon.k-icon").removeClass("k-i-video-external").addClass("k-i-checkmark-circle"),$("#ApplicationStepper a[title='"+menuTitle+"' i]").removeAttr("aria-invalid"),$("#ApplicationStepper a[title='"+menuTitle+"' i]").find("span .k-icon.k-i-warning").remove()):$("#PepApplicant").data("kendoGrid").dataSource.total()==0&&ddlPepApplicant=="true"||$("#PEPAssociates").data("kendoGrid").dataSource.total()==0&&ddlPepFamily=="true"?($("#ApplicationStepper a[title='"+menuTitle+"' i]").parent().removeClass("k-step-done").removeClass("k-step-success").addClass("k-step-error"),$("#ApplicationStepper a[title='"+menuTitle+"' i]").find("span .k-step-indicator-icon.k-icon").removeClass("k-i-checkmark-circle").addClass("k-i-video-external"),$("#ApplicationStepper a[title='"+menuTitle+"' i]").attr("aria-invalid","true"),arr=jQuery.grep(steps,function(n,i){n.options.label==menuTitle&&($("#ApplicationStepper").data("kendoStepper")._steps[i].options.error=!0,$("#ApplicationStepper").data("kendoStepper")._steps[i].options.icon="video-external")})):($("#PepApplicant").data("kendoGrid").dataSource.total()>=$("#PEPAssociates").data("kendoGrid").dataSource.total()?(kendoGrid=$("#PepApplicant").data("kendoGrid"),kendoGrid2=$("#PEPAssociates").data("kendoGrid")):(kendoGrid=$("#PEPAssociates").data("kendoGrid"),kendoGrid2=$("#PepApplicant").data("kendoGrid")),searchNameFound=kendoGrid.dataSource.data().some(function(dataItem){var steps,searchItem2,arr;dataItem.StatusName==searchName&&(isNotCompleted=!0);kendoGrid.dataSource.indexOf(dataItem)==kendoGrid.dataSource.total()-1&&(steps=$("#ApplicationStepper").data("kendoStepper")._steps,isNotCompleted?($("#ApplicationStepper a[title='"+menuTitle+"' i]").parent().removeClass("k-step-done").removeClass("k-step-success").addClass("k-step-error"),$("#ApplicationStepper a[title='"+menuTitle+"' i]").find("span .k-step-indicator-icon.k-icon").removeClass("k-i-checkmark-circle").addClass("k-i-video-external"),$("#ApplicationStepper a[title='"+menuTitle+"' i]").attr("aria-invalid","true"),arr=jQuery.grep(steps,function(n,i){n.options.label==menuTitle&&($("#ApplicationStepper").data("kendoStepper")._steps[i].options.error=!0,$("#ApplicationStepper").data("kendoStepper")._steps[i].options.icon="video-external")})):kendoGrid2.dataSource.total()>0?searchItem2=kendoGrid2.dataSource.data().some(function(dataItem2){var steps,arr;dataItem2.StatusName==searchName&&(isNotCompleted=!0);kendoGrid2.dataSource.indexOf(dataItem2)==kendoGrid2.dataSource.total()-1&&(steps=$("#ApplicationStepper").data("kendoStepper")._steps,isNotCompleted?($("#ApplicationStepper a[title='"+menuTitle+"' i]").parent().removeClass("k-step-done").removeClass("k-step-success").addClass("k-step-error"),$("#ApplicationStepper a[title='"+menuTitle+"' i]").find("span .k-step-indicator-icon.k-icon").removeClass("k-i-checkmark-circle").addClass("k-i-video-external"),$("#ApplicationStepper a[title='"+menuTitle+"' i]").attr("aria-invalid","true"),arr=jQuery.grep(steps,function(n,i){n.options.label==menuTitle&&($("#ApplicationStepper").data("kendoStepper")._steps[i].options.error=!0,$("#ApplicationStepper").data("kendoStepper")._steps[i].options.icon="video-external")})):($("#ApplicationStepper a[title='"+menuTitle+"' i]").parent().removeClass("k-step-error").addClass("k-step-done").addClass("k-step-success"),arr=jQuery.grep(steps,function(n,i){n.options.label==menuTitle&&($("#ApplicationStepper").data("kendoStepper")._steps[i].options.error=!1,$("#ApplicationStepper").data("kendoStepper")._steps[i].options.icon="checkmark-circle")}),$("#ApplicationStepper a[title='"+menuTitle+"' i]").find("span .k-step-indicator-icon.k-icon").removeClass("k-i-video-external").addClass("k-i-checkmark-circle"),$("#ApplicationStepper a[title='"+menuTitle+"' i]").removeAttr("aria-invalid"),$("#ApplicationStepper a[title='"+menuTitle+"' i]").find("span .k-icon.k-i-warning").remove()))}):($("#ApplicationStepper a[title='"+menuTitle+"' i]").parent().removeClass("k-step-error").addClass("k-step-done").addClass("k-step-success"),arr=jQuery.grep(steps,function(n,i){n.options.label==menuTitle&&($("#ApplicationStepper").data("kendoStepper")._steps[i].options.error=!1,$("#ApplicationStepper").data("kendoStepper")._steps[i].options.icon="checkmark-circle")}),$("#ApplicationStepper a[title='"+menuTitle+"' i]").find("span .k-step-indicator-icon.k-icon").removeClass("k-i-video-external").addClass("k-i-checkmark-circle"),$("#ApplicationStepper a[title='"+menuTitle+"' i]").removeAttr("aria-invalid"),$("#ApplicationStepper a[title='"+menuTitle+"' i]").find("span .k-icon.k-i-warning").remove()))}))}function setMenuSuccess(menuTitle){menuTitle.indexOf("&amp;")>0&&(menuTitle=menuTitle.replace("&amp;","&"));$("#ApplicationStepper a[title='"+menuTitle+"' i]").parent().removeClass("k-step-error").addClass("k-step-done").addClass("k-step-success");var steps=$("#ApplicationStepper").data("kendoStepper")._steps,arr=jQuery.grep(steps,function(n,i){n.options.label==menuTitle&&($("#ApplicationStepper").data("kendoStepper")._steps[i].options.error=!1,$("#ApplicationStepper").data("kendoStepper")._steps[i].options.icon="checkmark-circle")});$("#ApplicationStepper a[title='"+menuTitle+"' i]").find("span .k-step-indicator-icon.k-icon").removeClass("k-i-video-external").addClass("k-i-checkmark-circle");$("#ApplicationStepper a[title='"+menuTitle+"' i]").removeAttr("aria-invalid");$("#ApplicationStepper a[title='"+menuTitle+"' i]").find("span .k-icon.k-i-warning").remove()}function setMenuError(menuTitle){menuTitle.indexOf("&amp;")>0&&(menuTitle=menuTitle.replace("&amp;","&"));$("#ApplicationStepper a[title='"+menuTitle+"' i]").parent().removeClass("k-step-done").removeClass("k-step-success").addClass("k-step-error");$("#ApplicationStepper a[title='"+menuTitle+"' i]").find("span .k-step-indicator-icon.k-icon").removeClass("k-i-checkmark-circle").addClass("k-i-video-external");$("#ApplicationStepper a[title='"+menuTitle+"' i]").attr("aria-invalid","true");var steps=$("#ApplicationStepper").data("kendoStepper")._steps,arr=jQuery.grep(steps,function(n,i){n.options.label==menuTitle&&($("#ApplicationStepper").data("kendoStepper")._steps[i].options.error=!0,$("#ApplicationStepper").data("kendoStepper")._steps[i].options.icon="video-external")})}function validatePersonalDetails(){$.ajax({url:$("#ValidatePersonalDetailsUrl").val(),cache:!1,type:"POST",data:$("form").serialize(),success:function(result){result.IsValid==!0?setMenuSuccess($("#hdnApplication_Applicant_LeftMenu_PersonalDetails").val()):setMenuError($("#hdnApplication_Applicant_LeftMenu_PersonalDetails").val())}})}function validateCompanyDetails(){$.ajax({url:$("#ValidateCompanyDetailsUrl").val(),cache:!1,type:"POST",data:$("form").serialize(),success:function(result){result.IsValid==!0?setMenuSuccess($("#hdnApplication_Applicant_LeftMenu_CompanyDetails").val()):setMenuError($("#hdnApplication_Applicant_LeftMenu_CompanyDetails").val())}})}function validateFatcaDetails(){$.ajax({url:$("#ValidateFatcaDetailsUrl").val(),cache:!1,type:"POST",data:$("form").serialize(),success:function(result){result.IsValid==!0?setMenuSuccess($("#hdnApplication_Applicant_LegalEntity_LeftMenu_FATCADetails").val()):setMenuError($("#hdnApplication_Applicant_LegalEntity_LeftMenu_FATCADetails").val())}})}function validateCrsDetails(){$.ajax({url:$("#ValidateCrsDetailsUrl").val(),cache:!1,type:"POST",data:$("form").serialize(),success:function(result){result.IsValid==!0?setMenuSuccess($("#hdnApplication_Applicant_LegalEntity_LeftMenu_CRSDetails").val()):setMenuError($("#hdnApplication_Applicant_LegalEntity_LeftMenu_CRSDetails").val())}})}function validateBusinessProfileLegal(){$.ajax({url:$("#ValidateBusinessProfileLegalUrl").val(),cache:!1,type:"POST",data:$("form").serialize(),success:function(result){result.IsValid==!0?setMenuSuccess($("#hdnApplication_Applicant_LegalEntity_LeftMenu_BusinessProfile").val()):setMenuError($("#hdnApplication_Applicant_LegalEntity_LeftMenu_BusinessProfile").val())}})}function validateFinancialProfileLegal(){$.ajax({url:$("#ValidateFinancialProfileLegalUrl").val(),cache:!1,type:"POST",data:$("form").serialize(),success:function(result){result.IsValid==!0?setMenuSuccess($("#hdnApplication_Applicant_LeftMenu_FinancialProfile").val()):setMenuError($("#hdnApplication_Applicant_LeftMenu_FinancialProfile").val())}})}function validateBankingRelationshipLegal(){$.ajax({url:$("#ValidateBankingRelationshipLegalUrl").val(),cache:!1,type:"POST",data:$("form").serialize(),success:function(result){result.IsValid==!0?setMenuSuccess($("#hdnApplication_Applicant_LeftMenu_BankingRelationship").val()):setMenuError($("#hdnApplication_Applicant_LeftMenu_BankingRelationship").val())}})}function validateBankingRelationshipIndividual(){$.ajax({url:$("#ValidateBankingRelationshipIndividualUrl").val(),cache:!1,type:"POST",data:$("form").serialize(),success:function(result){result.IsValid==!0?setMenuSuccess($("#hdnApplication_Applicant_LeftMenu_BankingRelationship").val()):setMenuError($("#hdnApplication_Applicant_LeftMenu_BankingRelationship").val())}})}function validateContactDetailsLegal(){$.ajax({url:$("#ValidateContactDetailsLegalUrl").val(),cache:!1,type:"POST",data:$("form").serialize(),success:function(result){console.log(result);result.IsValid==!0?setMenuSuccess($("#hdnApplication_Applicant_LegalEntity_LeftMenu_ContactDetails").val()):setMenuError($("#hdnApplication_Applicant_LegalEntity_LeftMenu_ContactDetails").val())}})}function validateContactDetailsIndividual(){$.ajax({url:$("#ValidateContactDetailsIndividualUrl").val(),cache:!1,type:"POST",data:$("form").serialize(),success:function(result){result.IsValid==!0?setMenuSuccess($("#hdnApplication_Applicant_LeftMenu_ContactDetails").val()):setMenuError($("#hdnApplication_Applicant_LeftMenu_ContactDetails").val())}})}function validateBusinessAndFinancialProfile(){$.ajax({url:$("#ValidateBusinessAndFinancialProfileUrl").val(),cache:!1,type:"POST",data:$("form").serialize(),success:function(result){result.IsValid==!0?setMenuSuccess($("#hdnApplication_Applicant_LeftMenu_BusinessAndFinancialProfile").val()):setMenuError($("#hdnApplication_Applicant_LeftMenu_BusinessAndFinancialProfile").val())}})}function SelectConfirmPersonComYes(){companySearchGrid();var dialog=$("#ReSelectConfirmPersonCom").data("kendoWindow");dialog.close()}function SelectConfirmPersonComNo(){var dialog=$("#ReSelectConfirmPersonCom").data("kendoWindow");dialog.close()}function OpenSelectConfirmPersonCom(){if($("#ApplicantId").val()>0){var dialog=$("#ReSelectConfirmPersonCom").data("kendoWindow");dialog.wrapper.addClass("middle-popup");dialog.center().open()}else SelectConfirmPersonComYes()}function companySearchGrid(){$("#RegPersonsCompany").data("kendoGrid").dataSource.read();var searchWindow=$("#CompanyPersonSearchWindow").data("kendoWindow");searchWindow.wrapper.addClass("middle-popup");searchWindow.center();searchWindow.open();$("#divRegisteredPersonCompany").css("display","block")}function companyPersonCancelGrid(){$("#CompanyPersonSearchWindow").data("kendoWindow").close();$("#divRegisteredPersonCompany").css("display","none")}function selectCompanyPersonFromGrid(){var grid,selectedItem,entityValue,countryOfCorporation,listingStatus,corporationSharesIssuedToTheBearer,PreferredMailingAddress,preferredCommunicationLang;grid=$("#RegPersonsCompany").data("kendoGrid");selectedItem=grid.dataItem(grid.select());$("#CompanyDetails_RegisteredName").val(selectedItem.RegisteredName);$("#CompanyDetails_TradingName").val(selectedItem.TradingName);entityValue=$("#EntityTypeID").data("kendoDropDownList");entityValue.value(selectedItem.EntityType);countryOfCorporation=$("#CountryofIncorporationID").data("kendoDropDownList");countryOfCorporation.text(selectedItem.CountryofIncorporation);$("#CompanyDetails_RegistrationNumber").val(selectedItem.RegistrationNumber);$("#CompanyDetails_DateofIncorporation").val(selectedItem.DateofIncorporation);$("#CompanyDetails_HdnDateofIncorporation").val(selectedItem.DateofIncorporation);listingStatus=$("#CompanyDetails_ListingStatus").data("kendoDropDownList");listingStatus.value(selectedItem.ListingStatus);corporationSharesIssuedToTheBearer=$("#CompanyDetails_SharesIssuedToTheBearerName").data("kendoDropDownList");corporationSharesIssuedToTheBearer.value(selectedItem.CorporationSharesIssuedToTheBearer);PreferredMailingAddress=$("#ContactDetailsLegal_ContactDetailsLegal_PreferredMailingAddress").data("kendoDropDownList");typeof PreferredMailingAddress!="undefined"&&(PreferredMailingAddress.value(selectedItem.ContactDetailsLegal_PreferredMailingAddress),$("#ContactDetailsLegal_EmailAddressForSendingAlerts").val(selectedItem.ContactDetailsLegal_EmailAddressForSendingAlerts),preferredCommunicationLang=$("#ContactDetailsLegal_PreferredCommunicationLanguage").data("kendoDropDownList"),preferredCommunicationLang.value(selectedItem.ContactDetailsLegal_PreferredCommunicationLanguage));$("#CompanyPersonSearchWindow").data("kendoWindow").close();$("#divRegisteredPersonCompany").css("display","none");$("#RegistryId").val(selectedItem.NodeID)}function clearCompanyContact(){var PreferredMailingAddress=$("#ContactDetailsLegal_ContactDetailsLegal_PreferredMailingAddress").data("kendoDropDownList"),preferredCommunicationLang;PreferredMailingAddress!=undefined&&PreferredMailingAddress.value("");$("#ContactDetailsLegal_EmailAddressForSendingAlerts").val("");preferredCommunicationLang=$("#ContactDetailsLegal_PreferredCommunicationLanguage").data("kendoDropDownList");preferredCommunicationLang.value("");validateCompanyDetails()}function clearCompanyDetails(){var entityValue,countryOfCorporation,listingStatus,corporationSharesIssuedToTheBearer,istheEntitylocatedandoperatesanofficeinCyprus;$("#CompanyDetails_RegisteredName").val("");$("#CompanyDetails_TradingName").val("");entityValue=$("#EntityTypeID").data("kendoDropDownList");entityValue!=undefined&&entityValue.value("");countryOfCorporation=$("#CountryofIncorporationID").data("kendoDropDownList");countryOfCorporation!=undefined&&countryOfCorporation.value("");$("#CompanyDetails_RegistrationNumber").val("");$("#CompanyDetails_DateofIncorporation").val("");listingStatus=$("#CompanyDetails_ListingStatus").data("kendoDropDownList");listingStatus!=undefined&&listingStatus.value("");corporationSharesIssuedToTheBearer=$("#CompanyDetails_SharesIssuedToTheBearerName").data("kendoDropDownList");corporationSharesIssuedToTheBearer!=undefined&&corporationSharesIssuedToTheBearer.value("");istheEntitylocatedandoperatesanofficeinCyprus=$("#CompanyDetails_IsOfficeinCyprusName").data("kendoDropDownList");istheEntitylocatedandoperatesanofficeinCyprus!=undefined&&istheEntitylocatedandoperatesanofficeinCyprus.value("")}function searchCompanyPersons(){var fullNamevalue=$("#toolRegisteredName").val(),registrationNumbervalue=$("#toolRegistrationNumber").val(),dateofIncorporationvalue=$("#toolDateofIncorporation").val(),countryValue=$("#toolCountryofIncorporation").val();grid=$("#RegPersonsCompany").data("kendoGrid");fullNamevalue||registrationNumbervalue||dateofIncorporationvalue||countryValue?(console.log("in"),grid.dataSource.filter({logic:"and",filters:[{field:"PersonType",operator:"contains",value:""},{field:"RegisteredName",operator:"contains",value:fullNamevalue},{field:"RegistrationNumber",operator:"contains",value:registrationNumbervalue},{field:"DateofIncorporation",operator:"contains",value:dateofIncorporationvalue},{field:"CountryofIncorporation",operator:"contains",value:countryValue},]})):grid.dataSource.filter({})}function ShowRespectedFieldUsingEntityType(){var selectedEntityValue=$("#EntityTypeID").data("kendoDropDownList")!=undefined?$("#EntityTypeID").data("kendoDropDownList").text():"",officeInCyprus,selectedCountryOfIncorporationValue;selectedEntityValue=="Provident Fund"||selectedEntityValue=="Pension Fund"?$("#divSponsoringEntity").css("display","block"):$("#divSponsoringEntity").css("display","none");selectedEntityValue=="Foundation"||selectedEntityValue=="Trade Union"||selectedEntityValue=="Club / Association"||selectedEntityValue=="City Council / Local Authority"||selectedEntityValue=="Government Organization"||selectedEntityValue=="Semi - Government Organization"||selectedEntityValue=="Trust"||selectedEntityValue=="Provident Fund"||selectedEntityValue=="Pension Fund"||selectedEntityValue=="General Partnership"||selectedEntityValue=="Limited Liability Partnership"||selectedEntityValue=="Limited Partnership"?($("#IsOfficeinCyprusNameDiv").css("display","none"),officeInCyprus=$("#IsOfficeinCyprusNameID").data("kendoDropDownList"),officeInCyprus.text("No"),officeInCyprus.trigger("change")):$("#IsOfficeinCyprusNameDiv").css("display","block");selectedCountryOfIncorporationValue=$("#CountryofIncorporationID").data("kendoDropDownList")!=undefined?$("#CountryofIncorporationID").data("kendoDropDownList").text():"";(selectedEntityValue=="Private Limited Company"||selectedEntityValue=="Public Limited Company")&&selectedCountryOfIncorporationValue!="GREECE"&&selectedCountryOfIncorporationValue!="CYPRUS"?$("#SharesIssuedToTheBearerDIV").css("display","block"):$("#SharesIssuedToTheBearerDIV").css("display","none");selectedEntityValue=="Provident Fund"||selectedEntityValue=="Pension Fund"||selectedEntityValue=="Trust"?($("#divNumberofYearsinOperation").hide(),$("#ListingStatusDIV").css("display","none")):($("#divNumberofYearsinOperation").show(),$("#ListingStatusDIV").css("display","block"));selectedEntityValue=="Trust"?($("#divNumberofEmployes").hide(),$("#CompanyBusinessProfile_MainBusinessActivities").attr("title",$("#ResourceStringTitle_Trust").val())):($("#divNumberofEmployes").show(),selectedEntityValue=="Private Limited Company"||selectedEntityValue=="Public Limited Company"?$("#CompanyBusinessProfile_MainBusinessActivities").attr("title",$("#ResourceStringTitle_All").val()):$("#CompanyBusinessProfile_MainBusinessActivities").attr("title",""));selectedEntityValue=="Provident Fund"||selectedEntityValue=="Pension Fund"?($("#divEconomicSectorIndustry").hide(),$("#divTurnover").hide(),$("#lblNumberofEmployes").text($("#ResourceStringLabel_NumberofEmployes2").val())):($("#divEconomicSectorIndustry").show(),$("#divTurnover").show(),$("#lblNumberofEmployes").text($("#ResourceStringLabel_NumberofEmployes").val()));selectedEntityValue=="Provident Fund"||selectedEntityValue=="Pension Fund"?($("#lblMainBusinessActivities").text($("#ResourceStringLabel_MainBusinessActivities3").val()),$("#divSponsoringEntity").css("display","block")):selectedEntityValue=="Trust"?($("#divEconomicSectorIndustry").hide(),$("#lblMainBusinessActivities").text($("#ResourceStringLabel_MainBusinessActivities4").val()),$("#lblTurnover").text("Total Income"),$("#lblNetProfitLoss").text("Net Income/Loss")):selectedEntityValue=="Foundation"||selectedEntityValue=="Trade Union"||selectedEntityValue=="Club / Association"||selectedEntityValue=="City Council / Local Authority"||selectedEntityValue=="Government Organization"||selectedEntityValue=="Semi - Government Organization"?$("#lblMainBusinessActivities").text($("#ResourceStringLabel_MainBusinessActivities2").val()):$("#lblMainBusinessActivities").text($("#ResourceStringLabel_MainBusinessActivities").val());selectedEntityValue=="Provident Fund"||selectedEntityValue=="Pension Fund"||selectedEntityValue=="Trust"?($("#divTradingName").hide(),$("#divCorporationIsengaged").hide(),$("#divWebsiteAddress").hide(),$("#divIssuingAuthority").hide()):(selectedEntityValue!="Private Insurance Company"&&selectedEntityValue!="Public Insurance Company"?$("#lblCorporationIsengagedInTheProvisionName").text("Provision of Financial and Investment Services"):$("#lblCorporationIsengagedInTheProvisionName").text($("#ResourceStringLabel_CorporationIsengagedInTheProvisionName").val()),$("#divTradingName").show(),$("#divCorporationIsengaged").show(),$("#divWebsiteAddress").show());ShowRespectedFieldUsingCorporationIsengaged()}function ShowRespectedFieldUsingCorporationIsengaged(){var selectedEntityValue=$("#EntityTypeID").data("kendoDropDownList")!=undefined?$("#EntityTypeID").data("kendoDropDownList").text():"",selectedCorporationIsengaged;selectedEntityValue!="Private Insurance Company"&&selectedEntityValue!="Public Insurance Company"&&selectedEntityValue!="Provident Fund"&&selectedEntityValue!="Pension Fund"&&selectedEntityValue!="Trust"?(selectedCorporationIsengaged=$("#CompanyBusinessProfile_CorporationIsengagedInTheProvisionName").data("kendoDropDownList")!=undefined?$("#CompanyBusinessProfile_CorporationIsengagedInTheProvisionName").data("kendoDropDownList").text():"",selectedCorporationIsengaged=="YES"?$("#divIssuingAuthority").show():$("#divIssuingAuthority").hide()):$("#divIssuingAuthority").hide()}function formatNumber(num){return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function onSelectAddressType(e){var dataItem;if(e.item){dataItem=this.dataItem(e.item);console.log(dataItem);var dropdownlist=$("#Country").data("kendoDropDownList"),dropdownlistPhone=$("#CountryCode_PhoneNo").data("kendoDropDownList"),dropdownlistFax=$("#CountryCode_FaxNo").data("kendoDropDownList");dataItem.Text=="OFFICE IN CYPRUS"?(dropdownlist.text("CYPRUS"),dropdownlist.trigger("change"),dropdownlist.focus(),dropdownlist.readonly(),dropdownlistPhone!=undefined&&(dropdownlistPhone.text("CYPRUS +357"),dropdownlistPhone.trigger("change"),dropdownlistPhone.focus(),dropdownlistPhone.readonly()),dropdownlistPhone!=undefined&&(dropdownlistFax.text("CYPRUS +357"),dropdownlistFax.trigger("change"),dropdownlistFax.focus(),dropdownlistFax.readonly()),$("#AddressLine1").focus(),$("#AddressLine1").focusout()):(dropdownlist.text("-Select-"),dropdownlist.trigger("change"),dropdownlist.readonly(!1),dropdownlist.focus(),dropdownlistPhone!=undefined&&dropdownlistPhone.readonly(!1),dropdownlistFax!=undefined&&dropdownlistFax.readonly(!1))}}function manageMenuPanel(){var isLegalEntity=$("#IsLegalEntity").val();isLegalEntity=="True"?manageLegalApplicantMenuPanel():manageIndividualApplicantMenuPanel()}function onSelectFATCAClassification(e){var dataItem,seletedType,selectedNoNForgien;e.item&&(dataItem=this.dataItem(e.item),changeClassificationTypes(dataItem.Text),seletedType=$("#FATCACRSDetails_FATCADetails_TypeofForeignFinancialInstitution").data("kendoDropDownList").text(),selectedNoNForgien=$("#FATCACRSDetails_FATCADetails_TypeofNonFinancialForeignEntity").data("kendoDropDownList").text(),changeGIINExemp(seletedType,selectedNoNForgien))}function onSelectForeignFinancialIns(e){if(e.item){var dataItem=this.dataItem(e.item),selectedNoNForgien=$("#FATCACRSDetails_FATCADetails_TypeofNonFinancialForeignEntity").data("kendoDropDownList").text();changeGIINExemp(dataItem.Text,selectedNoNForgien)}}function onSelectNonForeignFinancialIns(e){if(e.item){var dataItem=this.dataItem(e.item),seletedType=$("#FATCACRSDetails_FATCADetails_TypeofForeignFinancialInstitution").data("kendoDropDownList").text();changeGIINExemp(seletedType,dataItem.Text)}}function onDataBoundFATCAClassi(){changeClassificationTypes($("#FATCACRSDetails_FATCADetails_FATCAClassification").data("kendoDropDownList").text())}function onDataBoundForeignFinan(seletedType,selectedNoNForgien){var seletedType=$("#FATCACRSDetails_FATCADetails_TypeofForeignFinancialInstitution").data("kendoDropDownList").text(),selectedNoNForgien=$("#FATCACRSDetails_FATCADetails_TypeofNonFinancialForeignEntity").data("kendoDropDownList").text();changeGIINExemp(seletedType,selectedNoNForgien)}function onDataBoundNonForeignFinan(seletedType,selectedNoNForgien){var seletedType=$("#FATCACRSDetails_FATCADetails_TypeofForeignFinancialInstitution").data("kendoDropDownList").text(),selectedNoNForgien=$("#FATCACRSDetails_FATCADetails_TypeofNonFinancialForeignEntity").data("kendoDropDownList").text();changeGIINExemp(seletedType,selectedNoNForgien)}function changeClassificationTypes(seletedType){seletedType=="US Entity"?($("#divFatcaUSForeignFinancialType").hide(),$("#divFatcaNonForeignFinancialType").hide(),$("#FATCACRSDetails_FATCADetails_TypeofForeignFinancialInstitution").data("kendoDropDownList").value(""),$("#FATCACRSDetails_FATCADetails_TypeofNonFinancialForeignEntity").data("kendoDropDownList").value(""),$("#divFatcaUSEntityType").show()):seletedType=="Foreign Financial Institution"?($("#divFatcaUSEntityType").hide(),$("#divFatcaNonForeignFinancialType").hide(),$("#FATCACRSDetails_FATCADetails_USEtityType").data("kendoDropDownList").value(""),$("#FATCACRSDetails_FATCADetails_TypeofNonFinancialForeignEntity").data("kendoDropDownList").value(""),$("#divFatcaUSForeignFinancialType").show()):seletedType=="Non-Financial Foreign Entity (NFFE)"?($("#divFatcaUSEntityType").hide(),$("#divFatcaUSForeignFinancialType").hide(),$("#FATCACRSDetails_FATCADetails_USEtityType").data("kendoDropDownList").value(""),$("#FATCACRSDetails_FATCADetails_TypeofForeignFinancialInstitution").data("kendoDropDownList").value(""),$("#divFatcaNonForeignFinancialType").show()):seletedType=="- Select - "&&($("#divFatcaUSEntityType").hide(),$("#divFatcaUSForeignFinancialType").hide(),$("#divFatcaNonForeignFinancialType").hide(),$("#FATCACRSDetails_FATCADetails_USEtityType").data("kendoDropDownList").value(""),$("#FATCACRSDetails_FATCADetails_TypeofForeignFinancialInstitution").data("kendoDropDownList").value(""),$("#FATCACRSDetails_FATCADetails_TypeofNonFinancialForeignEntity").data("kendoDropDownList").value(""))}function changeGIINExemp(seletedType,selectedNoNForgien){seletedType=="Participating Foreign Financial Institution (PFFI)"||seletedType=="Registered Deemed Compliant Financial Institution"||seletedType=="Sponsored Financial Institution"||selectedNoNForgien=="Direct reporting Passive NFFE"||selectedNoNForgien=="Sponsored direct reporting Passive NFFE"||selectedNoNForgien=="Sponsored direct reporting NFFE"?$("#divGIINNumber").show():($("#divGIINNumber").hide(),$("#FATCACRSDetails_FATCADetails_GlobalIntermediaryIdentificationNumber").val(""))}function ShowHideFieldsOnAddressType(){var selectedAddressType=$("#AddressType").data("kendoDropDownList");selectedAddressType!=undefined&&(selectedAddressType.text().trim()=="MAILING ADDRESS"?$("#divAddPOBox").show():($("#POBox").val("").trigger("change").focusin().focusout(),$("#divAddPOBox").hide()),selectedAddressType.text().trim()!="MAILING ADDRESS"?$("#divMailingAddressSame").show():($("#MailingAddressSame").prop("checked",!1),$("#divMailingAddressSame").hide()),selectedAddressType.text().trim()=="-Select-"&&($("#MailingAddressSame").prop("checked",!1),$("#divMailingAddressSame").hide()))}function ShowRespectedDiv(){if($("#IsRelatedParty").val()=="False"){var selectValue=$("#AddressType").data("kendoDropDownList").text();selectValue=="OFFICE IN CYPRUS"?($("#PhoneNoDIV").css("display","block"),$("#FaxNoDIV").css("display","block"),$("#EmailDIV").css("display","block"),$("#NumberOfStaffEmployedDIV").css("display","block")):selectValue=="PRINCIPAL TRADING /BUSINESS OFFICE"||selectValue=="BUSINESS OFFICE"||selectValue=="ADMINISTRATION OFFICE"?($("#PhoneNoDIV").css("display","block"),$("#FaxNoDIV").css("display","block"),$("#EmailDIV").css("display","block"),$("#NumberOfStaffEmployedDIV").css("display","none")):($("#PhoneNoDIV").css("display","none"),$("#FaxNoDIV").css("display","none"),$("#EmailDIV").css("display","none"),$("#NumberOfStaffEmployedDIV").css("display","none"))}}function RemoveAllValidationMessage(){$(".k-widget.k-window.k-display-inline-flex input").each(function(){if($(this).closest("div").children("div.field-validation-error").length>0){var elementName=$(this).attr("name");$($(this).closest("div")).children("div.field-validation-error").remove();$($(this).closest("div")).append('<span class="field-validation-valid k-hidden" data-valmsg-for="'+elementName+'" data-valmsg-replace="true"><\/span>')}})}function setTwoNumberDecimal(){this.value=parseFloat(this.value).toFixed(2)}function limitlength(obj,length,spanid){var maxlength=length;maxlength==0&&(maxlength=obj.maxlength);obj.value.length>maxlength?(document.getElementById(spanid).innerHTML="Maximum allowed length of the input text is "+length,obj.value=obj.value.substring(0,maxlength)):document.getElementById(spanid).innerHTML=" "}function ChangeMaxLengthLegalAddressPhone(){var selectedPhoneNo=$("#CountryCode_PhoneNo").data("kendoDropDownList")!=undefined?$("#CountryCode_PhoneNo").data("kendoDropDownList").text():"";field=document.getElementById("PhoneNo");selectedPhoneNo=="CYPRUS +357"&&(field.value=field.value.substr(0,8));$("#PhoneNo").keyup()}function ChangeMaxLengthLegalAddressFax(){var selectedPhoneNo=$("#CountryCode_FaxNo").data("kendoDropDownList")!=undefined?$("#CountryCode_FaxNo").data("kendoDropDownList").text():"";field=document.getElementById("FaxNo");selectedPhoneNo=="CYPRUS +357"&&(field.value=field.value.substr(0,8));$("#FaxNo").keyup()}function limitlengthAccToCountry(obj,spanid,ddlid){var selectedCountryNo=$("#"+ddlid).data("kendoDropDownList")!=undefined?$("#"+ddlid).data("kendoDropDownList").text():"",maxlength,errormsg;selectedCountryNo=="CYPRUS +357"?(maxlength=8,errormsg="In case of Cyprus Maximum allowed length is "+maxlength):(maxlength=14,errormsg="Maximum allowed length of the input text is "+maxlength);obj.value.length>maxlength?(document.getElementById(spanid).innerHTML=errormsg,obj.value=obj.value.substring(0,maxlength)):document.getElementById(spanid).innerHTML=" "}function ValidateMenuTaxDetailsLegal(){var selectedAddressType=$("#CompanyDetails_IsLiableToPayDefenseTaxInCyprusName").data("kendoDropDownList"),selectedAddressTypeInd;selectedAddressType!=undefined&&(selectedAddressType.text().toUpperCase()=="YES"||selectedAddressType.text().toUpperCase()=="NO"?isAllConfirmed($("#hdnApplicant_LeftMenu_TaxDetails").val(),"Tax","TaxDetails"):setMenuError($("#hdnApplicant_LeftMenu_TaxDetails").val()));selectedAddressTypeInd=$("#PersonalDetails_IsLiableToPayDefenseTaxInCyprusName").data("kendoDropDownList");selectedAddressTypeInd!=undefined&&(selectedAddressTypeInd.text().toUpperCase()=="YES"||selectedAddressTypeInd.text().toUpperCase()=="NO"?isAllConfirmed($("#hdnApplicant_LeftMenu_TaxDetails").val(),"Tax","TaxDetails"):setMenuError($("#hdnApplicant_LeftMenu_TaxDetails").val()))}function TurnoverValidateRegex(obj){var lblError=document.getElementById("CompanyFinancialInformationTurnoverError"),expr,texboxValue,decimalIndex;lblError.innerHTML="";expr=/^\d{0,17}(\.\d{1,2})?$/;texboxValue=obj.value.replace(/,/g,"");texboxValue==""||texboxValue=="NaN"?$("#CompanyFinancialInformation_Turnover").val(""):expr.test(texboxValue.toString())?lblError.innerHTML="":texboxValue.toString().charAt(0)==="-"?lblError.innerHTML="Negative value is not allowed.":(decimalIndex=texboxValue.toString().indexOf("."),decimalIndex!==-1&&texboxValue.toString().substring(decimalIndex+1).length>2?lblError.innerHTML="Only two digits are allowed after the decimal point.":(lblError.innerHTML="Maximum allowed length is 17.",obj.value=texboxValue.toString().substring(0,17)))}function NetProfitLossValidateRegex(obj){var lblError=document.getElementById("CompanyFinancialInformationNetProfitLossError"),expr,texboxValue,decimalIndex;lblError.innerHTML="";expr=/^-?\d{0,17}(\.\d{1,2})?$/;texboxValue=obj.value.replace(/,/g,"");texboxValue==""||texboxValue=="NaN"?$("#CompanyFinancialInformation_NetProfitLoss").val(""):expr.test(texboxValue)?lblError.innerHTML="":(decimalIndex=texboxValue.indexOf("."),decimalIndex!==-1&&texboxValue.substring(decimalIndex+1).length>2?lblError.innerHTML="Only two digits are allowed after the decimal point.":(lblError.innerHTML="Maximum allowed length is 17.",obj.value=texboxValue.substring(0,17)))}function TotalAssetsValidateRegex(obj){var lblError=document.getElementById("CompanyFinancialInformationTotalAssetsError"),expr,texboxValue,decimalIndex;lblError.innerHTML="";expr=/^\d{0,17}(\.\d{1,2})?$/;texboxValue=obj.value.replace(/,/g,"");texboxValue==""||texboxValue=="NaN"?$("#CompanyFinancialInformation_TotalAssets").val(""):expr.test(texboxValue.toString())?lblError.innerHTML="":texboxValue.toString().charAt(0)==="-"?lblError.innerHTML="Negative value is not allowed.":(decimalIndex=texboxValue.toString().indexOf("."),decimalIndex!==-1&&texboxValue.toString().substring(decimalIndex+1).length>2?lblError.innerHTML="Only two digits are allowed after the decimal point.":(lblError.innerHTML="Maximum allowed length is 17.",obj.value=texboxValue.toString().substring(0,17)))}function OriginOfAnnualIncomeAmountValidateRegex(){var txtval=document.getElementById("AmountOfIncome").value,lblError=document.getElementById("AmountOfIncome_validationMessage"),expr,decimalIndex;lblError.innerHTML="";expr=/^\d{0,16}(\.\d{1,2})?$/;expr.test(txtval)?lblError.innerHTML="":txtval.charAt(0)==="-"?lblError.innerHTML="Negative value is not allowed.":(decimalIndex=txtval.indexOf("."),lblError.innerHTML=decimalIndex!==-1&&txtval.substring(decimalIndex+1).length>2?"Only two digits are allowed after the decimal point.":"Maximum allowed length of the input text is 16.")}function showHideLoader(){var loader=$("#loader").data("kendoLoader");loadingPanelVisible=!loadingPanelVisible;loadingPanelVisible?loader.show():loader.hide()}function HideLoader(){var loader=$("#loader").data("kendoLoader");loader.hide()}function CheckNetProfitLossValidate(){var lblError=document.getElementById("CompanyFinancialInformationNetProfitLossError");return lblError!=undefined&&lblError!=null?lblError.innerHTML==""?!0:!1:!0}function CheckTurnoverValidate(){var lblError=document.getElementById("CompanyFinancialInformationTurnoverError");return lblError!=undefined&&lblError!=null?lblError.innerHTML==""?!0:!1:!0}function CheckTotalAssetsValidate(){var lblError=document.getElementById("CompanyFinancialInformationTotalAssetsError");return lblError!=undefined&&lblError!=null?lblError.innerHTML==""?!0:!1:!0}function ValidateApplicant(){var islegal=$("#IsLegalEntity").val(),flag=0;return islegal=="True"?$("#CompanyDetails_RegisteredName").val()==""?($("#CompanyDetailsRegisteredNameErrorrReq").text("Please enter Registered Name"),flag=1):$("#CompanyDetailsRegisteredNameErrorrReq").text(""):($("#PersonalDetails_FirstName").val()==""?($("#PersonalDetailsFirstNameError").text("Please enter First Name"),flag=1):$("#PersonalDetailsFirstNameError").text(""),$("#PersonalDetails_LastName").val()==""?($("#PersonalDetailsLastNameError").text("Please enter Last Name"),flag=1):$("#PersonalDetailsLastNameError").text("")),flag==1?!1:(showHideLoader(),!0)}function isNumberWithoutDecimalKey(evt){var charCode=evt.which?evt.which:event.keyCode;return charCode>31&&(charCode<48||charCode>57)?!1:!0}function showhideFieldofBankingRelationshipIndividual(){var selectedValue=$("#PersonalDetails_HasAccountInOtherBankName").data("kendoDropDownList").text(),dropdownlistTitle;selectedValue=="YES"?($("#divNameOfBankingInstitution").css("display","block"),$("#divCountryOfBankingInstitution").css("display","block")):($("#divNameOfBankingInstitution").css("display","none"),$("#divCountryOfBankingInstitution").css("display","none"),$("#PersonalDetails_NameOfBankingInstitution").val(""),dropdownlistTitle=$("#PersonalDetails_CountryOfBankingInstitution").data("kendoDropDownList"),dropdownlistTitle.value(""));validateBankingRelationshipIndividual()}function onDataBoundBankingRelationshipIndividual(){showhideFieldofBankingRelationship()}function showhideFieldofBankingRelationshipLegal(){var selectedValue=$("#CompanyDetails_HasAccountInOtherBankName").data("kendoDropDownList").text(),dropdownlistTitle;selectedValue=="YES"?($("#divCompanyDetailsNameOfBankingInstitution").css("display","block"),$("#divCompanyDetailsCountryOfBankingInstitution").css("display","block")):($("#divCompanyDetailsNameOfBankingInstitution").css("display","none"),$("#divCompanyDetailsCountryOfBankingInstitution").css("display","none"),$("#CompanyDetails_NameOfBankingInstitution").val(""),dropdownlistTitle=$("#CompanyDetails_CountryOfBankingInstitution").data("kendoDropDownList"),dropdownlistTitle.value(""));validateBankingRelationshipLegal()}function onDataBoundBankingRelationshipLegal(){showhideFieldofBankingRelationshipLegal()}function onSaveIndividualAddressDetails(){}function Sync_handlerAddressDetailsApplicant(e){e.sender.preventSync||e.sender.read();e.sender.preventSync=!1}function onAddressDataBound(){$("#AddressDetails .k-grid-add").html("<span class='k-icon k-i-plus-circle mr-1'><\/span>New").addClass("new-contact").removeClass("k-button k-button-icontext");$("#AddressDetails .k-grid-content").attr("style","max-height: 400px");deleteEmptyGridRecord("AddressDetails");isAllConfirmed($("#hdnApplication_Applicant_LeftMenu_AddressDetails").val(),"Address","AddressDetails",!0)}function addConfirmButton_AddressDetails(e){var model,selectedEntityValue;$(".k-widget k-window k-display-inline-flex").addClass("leftpopup");$("a.k-grid-update").addClass("SAVEASDRAFT");model=e.model;model.Status=!1;model.dirty=!0;$("a.k-grid-cancel").addClass("btn btn-link");$("a.k-grid-update")[0].innerHTML="SAVE AS DRAFT";$("a.k-grid-cancel")[0].innerHTML="<span class='k-icon k-i-cancel'><\/span>CLOSE";$('<a class="k-button k-button-icontext k-primary k-grid-update custom" href="#" k-icon k-i-delete"><\/span>SAVE & CLOSE<\/a>').insertBefore(".k-grid-update");$(".custom").click(function(){model.Status=!0;$(".k-widget.k-window.k-display-inline-flex input").each(function(){if($(this).closest("div").children("div.field-validation-error").length>0){var elementName=$(this).attr("name");$($(this).closest("div")).children("div.field-validation-error").remove();$($(this).closest("div")).append('<span class="field-validation-valid k-hidden" data-valmsg-for="'+elementName+'" data-valmsg-replace="true"><\/span>')}})});$(".SAVEASDRAFT").click(function(){model.Status=!1});$(".k-widget.k-window.k-display-inline-flex input").keyup(function(){var validatePopup=$(".k-popup-edit-form").kendoValidator().data("kendoValidator"),countryddlValue,cityValue;validatePopup.validate();$($(this).closest("div")).children("div.field-validation-error").length>0&&($(this).val()==""?$($($(this).closest("div")).children("div.field-validation-error")).children("span.k-tooltip-content").text().indexOf("Max length exceeded")<0?$($(this).closest("div")).children("div.field-validation-error").show():$($(this).closest("div")).children("div.field-validation-error").hide():$(this).attr("id")=="City"&&$("#Country").data("kendoDropDownList")!=undefined?(countryddlValue=$("#Country").data("kendoDropDownList").text(),cityValue=$(this).val().trim().toLowerCase(),countryddlValue=="CYPRUS"&&cityValue!="nicosia"&&cityValue!="limassol"&&cityValue!="paphos"&&cityValue!="larnaca"&&cityValue!="famagusta"?$($(this).closest("div")).children("div.field-validation-error").show():$($($(this).closest("div")).children("div.field-validation-error")).children("span.k-tooltip-content").text().indexOf("Max length exceeded")<0?$($(this).closest("div")).children("div.field-validation-error").hide():$(this).val().length<=35?$($(this).closest("div")).children("div.field-validation-error").hide():$($(this).closest("div")).children("div.field-validation-error").show()):$($($(this).closest("div")).children("div.field-validation-error")).children("span.k-tooltip-content").text().indexOf("Max length exceeded")<0?$($(this).closest("div")).children("div.field-validation-error").hide():$(this).val().length<=35?$($(this).closest("div")).children("div.field-validation-error").hide():$($(this).closest("div")).children("div.field-validation-error").show())});$(".k-widget.k-window.k-display-inline-flex input").change(function(){if($($(this).closest("div")).children("div.field-validation-error").length>0)if($(this).val()=="")$($($(this).closest("div")).children("div.field-validation-error")).children("span.k-tooltip-content").text().indexOf("Max length exceeded")<0?$($(this).closest("div")).children("div.field-validation-error").show():$($(this).closest("div")).children("div.field-validation-error").hide();else if($(this).attr("id")=="City"&&$("#Country").data("kendoDropDownList")!=undefined){var countryddlValue=$("#Country").data("kendoDropDownList").text(),cityValue=$(this).val().trim().toLowerCase();countryddlValue=="CYPRUS"&&cityValue!="nicosia"&&cityValue!="limassol"&&cityValue!="paphos"&&cityValue!="larnaca"&&cityValue!="famagusta"?$($(this).closest("div")).children("div.field-validation-error").show():$($($(this).closest("div")).children("div.field-validation-error")).children("span.k-tooltip-content").text().indexOf("Max length exceeded")<0?$($(this).closest("div")).children("div.field-validation-error").hide():$(this).val().length<=35?$($(this).closest("div")).children("div.field-validation-error").hide():$($(this).closest("div")).children("div.field-validation-error").show()}else $($($(this).closest("div")).children("div.field-validation-error")).children("span.k-tooltip-content").text().indexOf("Max length exceeded")<0?$($(this).closest("div")).children("div.field-validation-error").hide():$(this).val().length<=35?$($(this).closest("div")).children("div.field-validation-error").hide():$($(this).closest("div")).children("div.field-validation-error").show()});isApplicationPermisssionEdit=="False"&&setAllPopUpInputElementDisabled();model.SaveInRegistry&&$("#LocationID").css("display","block");($("#hdnApplicantEntityType").val()=="Provident Fund"||$("#hdnApplicantEntityType").val()=="Pension Fund")&&(document.getElementById("spanAddressType").innerHTML="  (The address of the Sponsoring Entity should be provided. In case of multiple Sponsoring Entities the address of the principal administrator should be recorded)");selectedEntityValue=$("#EntityTypeID").data("kendoDropDownList")!=undefined?$("#EntityTypeID").data("kendoDropDownList").text():"";selectedEntityValue=="Provident Fund"||selectedEntityValue=="Pension Fund"?$("#spanAddressType").text("  (The address of the Sponsoring Entity should be provided. In case of multiple Sponsoring Entities the address of the principal administrator should be recorded)"):$("#spanAddressType").text("");ShowRespectedDiv();ShowHideFieldsOnAddressType();BindAddressTypeLegal()}function BindAddressTypeLegal(){var selectedEntityValue=$("#EntityTypeID").data("kendoDropDownList")!=undefined?$("#EntityTypeID").data("kendoDropDownList").value():"";selectedEntityValue!=""&&$.ajax({url:$("#hdnRedirectTo_Applicant_AddRessTypeLegalRead").val(),cache:!1,type:"POST",data:{entityType:selectedEntityValue}}).done(function(response){var entityDDL=$("#AddressType").data("kendoDropDownList");entityDDL.setDataSource(response)})}function error_handlerAddressDetailsApplicant(args){var errors=args.errors,grid;if(console.log(errors),errors){args.sender.preventSync=!0;grid=$("#AddressDetails").data("kendoGrid");grid.one("dataBinding",function(e){e.preventDefault();$.each(errors,function(key,value){var message="";"errors"in value&&$.each(value.errors,function(){message+=this+"\n"});grid.editable.element.find("[data-valmsg-for='"+key+"']").replaceWith('<div class="k-tooltip k-tooltip-error k-validator-tooltip k-invalid-msg field-validation-error" ><span class="k-tooltip-icon k-icon k-i-warning"> <\/span><span class="k-tooltip-content">'+message+'<\/span><div class="k-callout k-callout-n"><\/div><\/div>').show()})})}}function SetHomeCode(){$("#ContactDetails_HomeTelNoNumber").val("+"+$("#Country_Code_HomeTelNoNumber").val())}function SetMobileCode(){$("#ContactDetails_MobileTelNoNumber").val("+"+$("#Country_Code_MobileTelNoNumber").val())}function SetWorkCode(){$("#ContactDetails_WorkTelNoNumber").val("+"+$("#Country_Code_WorkTelNoNumber").val())}function SetFaxCode(){$("#ContactDetails_FaxNoFaxNumber").val("+"+$("#Country_Code_FaxNoFaxNumber").val())}function ChangeMaxLengthIndividualHomeNo(){var selectedPhoneNo=$("#Country_Code_HomeTelNoNumber").data("kendoDropDownList")!=undefined?$("#Country_Code_HomeTelNoNumber").data("kendoDropDownList").text():"";field=document.getElementById("ContactDetails_HomeTelNoNumber");field.value=selectedPhoneNo=="CYPRUS +357"?field.value.substr(0,8):field.value.substr(0,14)}function contactsMaxLengthWarningHome(e){var selectedPhoneNo=$("#Country_Code_HomeTelNoNumber").data("kendoDropDownList")!=undefined?$("#Country_Code_HomeTelNoNumber").data("kendoDropDownList").text():"";field=document.getElementById("ContactDetails_HomeTelNoNumber");selectedPhoneNo=="CYPRUS +357"?limitlength(e,8,"ContactDetails_HomeTelNumberError"):limitlength(e,14,"ContactDetails_HomeTelNumberError")}function ChangeMaxLengthIndividualMobileNo(){var selectedPhoneNo=$("#Country_Code_MobileTelNoNumber").data("kendoDropDownList")!=undefined?$("#Country_Code_MobileTelNoNumber").data("kendoDropDownList").text():"";field=document.getElementById("ContactDetails_MobileTelNoNumber");field.value=selectedPhoneNo=="CYPRUS +357"?field.value.substr(0,8):field.value.substr(0,14)}function contactsMaxLengthWarningMobile(e){var selectedPhoneNo=$("#Country_Code_MobileTelNoNumber").data("kendoDropDownList")!=undefined?$("#Country_Code_MobileTelNoNumber").data("kendoDropDownList").text():"";field=document.getElementById("ContactDetails_MobileTelNoNumber");selectedPhoneNo=="CYPRUS +357"?limitlength(e,8,"ContactDetails_MobileTelNumberError"):limitlength(e,14,"ContactDetails_MobileTelNumberError")}function ChangeMaxLengthIndividualWorkNo(){var selectedPhoneNo=$("#Country_Code_WorkTelNoNumber").data("kendoDropDownList")!=undefined?$("#Country_Code_WorkTelNoNumber").data("kendoDropDownList").text():"";field=document.getElementById("ContactDetails_WorkTelNoNumber");field.value=selectedPhoneNo=="CYPRUS +357"?field.value.substr(0,8):field.value.substr(0,14)}function contactsMaxLengthWarningWork(e){var selectedPhoneNo=$("#Country_Code_WorkTelNoNumber").data("kendoDropDownList")!=undefined?$("#Country_Code_WorkTelNoNumber").data("kendoDropDownList").text():"";field=document.getElementById("ContactDetails_WorkTelNoNumber");selectedPhoneNo=="CYPRUS +357"?limitlength(e,8,"ContactDetails_WorkTelNumberError"):limitlength(e,14,"ContactDetails_WorkTelNumberError")}function ChangeMaxLengthIndividualFaxNo(){var selectedPhoneNo=$("#Country_Code_FaxNoFaxNumber").data("kendoDropDownList")!=undefined?$("#Country_Code_FaxNoFaxNumber").data("kendoDropDownList").text():"";field=document.getElementById("ContactDetails_FaxNoFaxNumber");field.value=selectedPhoneNo=="CYPRUS +357"?field.value.substr(0,8):field.value.substr(0,14)}function contactsMaxLengthWarningFax(e){var selectedPhoneNo=$("#Country_Code_FaxNoFaxNumber").data("kendoDropDownList")!=undefined?$("#Country_Code_FaxNoFaxNumber").data("kendoDropDownList").text():"";field=document.getElementById("ContactDetails_FaxNoFaxNumber");selectedPhoneNo=="CYPRUS +357"?limitlength(e,8,"ContactDetails_FaxNumberError"):limitlength(e,14,"ContactDetails_FaxNumberError")}function isNumberWithoutDecimalKey(evt){var charCode=evt.which?evt.which:event.keyCode;return charCode>31&&(charCode<48||charCode>57)?!1:!0}function ShowRespectedCRSField(){var selectValue,FinancialInstitution,FinancialEntity,TypeofFinancialInstitution,TypeofActiveNonFinancialEntity,NameofEstablishedSecuritiesMarket;selectValue=$("#CompanyCRSDetails_CRSClassification").data("kendoDropDownList").text();selectValue=="Financial Institution"?($("#CompanyCRSDetails_TypeofFinancialInstitution_DIV").css("display","block"),$("#CompanyCRSDetails_TypeofActiveNonFinancialEntity_DIV").css("display","none"),$("#CompanyCRSDetails_NameofEstablishedSecuritiesMarket_DIV").css("display","none"),TypeofActiveNonFinancialEntity=$("#CompanyCRSDetails_TypeofActiveNonFinancialEntity").data("kendoDropDownList"),TypeofActiveNonFinancialEntity!=undefined&&TypeofActiveNonFinancialEntity.value(""),NameofEstablishedSecuritiesMarket=$("#CRSDetails_CompanyCRSDetails_NameofEstablishedSecuritiesMarket").data("kendoTextBox"),NameofEstablishedSecuritiesMarket!=undefined&&NameofEstablishedSecuritiesMarket.value(""),FinancialEntity=$("#CompanyCRSDetails_TypeofActiveNonFinancialEntity").data("kendoDropDownList"),FinancialEntity!=undefined&&(FinancialEntity.value(""),FinancialEntity.trigger("change"))):selectValue=="Active Non-Financial Entity (NFE)"?(FinancialInstitution=$("#CompanyCRSDetails_TypeofFinancialInstitution").data("kendoDropDownList"),FinancialInstitution!=undefined&&(FinancialInstitution.value(""),FinancialInstitution.trigger("change")),$("#CompanyCRSDetails_TypeofActiveNonFinancialEntity_DIV").css("display","block"),$("#CompanyCRSDetails_TypeofFinancialInstitution_DIV").css("display","none"),$("#CompanyCRSDetails_NameofEstablishedSecuritiesMarket_DIV").css("display","none"),TypeofFinancialInstitution=$("#CompanyCRSDetails_TypeofFinancialInstitution").data("kendoDropDownList"),TypeofFinancialInstitution!=undefined&&TypeofFinancialInstitution.value(""),NameofEstablishedSecuritiesMarket=$("#CRSDetails_CompanyCRSDetails_NameofEstablishedSecuritiesMarket").data("kendoTextBox"),NameofEstablishedSecuritiesMarket!=undefined&&NameofEstablishedSecuritiesMarket.value(""),FinancialEntity=$("#CompanyCRSDetails_TypeofActiveNonFinancialEntity").data("kendoDropDownList"),FinancialEntity!=undefined&&(FinancialEntity.value(""),FinancialEntity.trigger("change"))):($("#CompanyCRSDetails_TypeofFinancialInstitution_DIV").css("display","none"),$("#CompanyCRSDetails_TypeofActiveNonFinancialEntity_DIV").css("display","none"),$("#CompanyCRSDetails_NameofEstablishedSecuritiesMarket_DIV").css("display","none"),TypeofFinancialInstitution=$("#CompanyCRSDetails_TypeofFinancialInstitution").data("kendoDropDownList"),TypeofFinancialInstitution!=undefined&&TypeofFinancialInstitution.value(""),TypeofActiveNonFinancialEntity=$("#CompanyCRSDetails_TypeofActiveNonFinancialEntity").data("kendoDropDownList"),TypeofActiveNonFinancialEntity!=undefined&&TypeofActiveNonFinancialEntity.value(""),NameofEstablishedSecuritiesMarket=$("#CRSDetails_CompanyCRSDetails_NameofEstablishedSecuritiesMarket").data("kendoTextBox"),NameofEstablishedSecuritiesMarket!=undefined&&NameofEstablishedSecuritiesMarket.value(""))}function ShowRespectedFieldNFE(){var activeNFE,NameofEstablishedSecuritiesMarket;activeNFE=$("#CompanyCRSDetails_TypeofActiveNonFinancialEntity").data("kendoDropDownList").text();let text=activeNFE;text.match(/A corporation the stock of which is regularly traded on an established securities market or a corporation which is a Related Entity of such a corporation/gi)?$("#CompanyCRSDetails_NameofEstablishedSecuritiesMarket_DIV").css("display","block"):($("#CompanyCRSDetails_NameofEstablishedSecuritiesMarket_DIV").css("display","none"),NameofEstablishedSecuritiesMarket=$("#CRSDetails_CompanyCRSDetails_NameofEstablishedSecuritiesMarket").data("kendoTextBox"),NameofEstablishedSecuritiesMarket!=undefined&&NameofEstablishedSecuritiesMarket.value(""))}function onIdentificationDataBound(){$("#IdentificationDetails .k-grid-add").html("<span class='k-icon k-i-plus-circle mr-1'><\/span>New").addClass("new-contact").removeClass("k-button k-button-icontext");$("#IdentificationDetails .k-grid-content").attr("style","max-height: 400px");var grid=$("#IdentificationDetails").data("kendoGrid"),gridRows=grid.tbody.find("tr");gridRows.each(function(){var rowItem=grid.dataItem($(this));rowItem.IdentificationDetailsID==0&&grid.removeRow(rowItem)});isAllConfirmed($("#hdnApplication_Applicant_LeftMenu_IdentificationDetails").val(),"Identification","IdentificationDetails")}function addConfirmButton_IdentificationDetails(e){$("a.k-grid-update").addClass("SAVEASDRAFT");var model=e.model;model.Status=!1;model.dirty=!0;$("a.k-grid-cancel").addClass("btn btn-link");$("a.k-grid-update")[0].innerHTML="SAVE AS DRAFT";$("a.k-grid-cancel")[0].innerHTML="<span class='k-icon k-i-cancel'><\/span>CLOSE";$('<a class="k-button k-button-icontext k-primary k-grid-update custom"  href="#" k-icon k-i-delete"><\/span>SAVE & CLOSE<\/a>').insertBefore(".k-grid-update");$(".custom").click(function(){model.Status=!0;RemoveAllValidationMessage()});$(".SAVEASDRAFT").click(function(){model.Status=!1});$(".k-widget.k-window.k-display-inline-flex input").keyup(function(){var validatePopup=$(".k-popup-edit-form").kendoValidator().data("kendoValidator");validatePopup.validate();$($(this).closest("div")).children("div.field-validation-error").length>0&&($(this).val()==""?$($(this).closest("div")).children("div.field-validation-error").show():$(this).attr("id")=="IdentificationDetails_IssueDate"||$(this).attr("id")=="IdentificationDetails_ExpiryDate"?validateIdentificationDates(this):$($(this).closest("div")).children("div.field-validation-error").hide())});$(".k-widget.k-window.k-display-inline-flex input").change(function(){$($(this).closest("div")).children("div.field-validation-error").length>0&&($(this).val()==""?$($(this).closest("div")).children("div.field-validation-error").show():$(this).attr("id")=="IdentificationDetails_IssueDate"||$(this).attr("id")=="IdentificationDetails_ExpiryDate"?validateIdentificationDates(this):$($(this).closest("div")).children("div.field-validation-error").hide())});isApplicationPermisssionEdit=="False"&&setAllPopUpInputElementDisabled()}function error_handleridentificationDetails(args){var errors=args.errors,grid;if(errors){grid=$("#IdentificationDetails").data("kendoGrid");grid.one("dataBinding",function(e){e.preventDefault();$.each(errors,function(key,value){var message="";"errors"in value&&$.each(value.errors,function(){message+=this+"\n"});grid.editable.element.find("[data-valmsg-for='"+key+"']").replaceWith('<div class="k-tooltip k-tooltip-error k-validator-tooltip k-invalid-msg field-validation-error" ><span class="k-tooltip-icon k-icon k-i-warning"> <\/span><span class="k-tooltip-content">'+message+'<\/span><div class="k-callout k-callout-n"><\/div><\/div>').show()})})}}function validateIdentificationDates(currentElement){$.ajax({url:$("#hdnRedirectTo_Identifications_ValidateIdentificationDates").val(),cache:!1,type:"POST",data:{issueDate:$("#IdentificationDetails_IssueDate").val(),expiryDate:$("#IdentificationDetails_ExpiryDate").val()},success:function(result){result==!0?$($(currentElement).closest("div")).children("div.field-validation-error").hide():$($(currentElement).closest("div")).children("div.field-validation-error").show()}})}function onGridDataBoundOriginOfTotal(){$("#OriginOfTotal .k-grid-add").html("<span class='k-icon k-i-plus-circle mr-1'><\/span>New").addClass("new-contact").removeClass("k-button k-button-icontext");$("#OriginOfTotal .k-grid-content").attr("style","max-height: 400px");deleteEmptyGridRecord("OriginOfTotal");validateBusinessAndFinancialProfile();validateFinancialProfileLegal()}function addConfirmButton_OriginOfTotalAssests(e){var model,assetsName,selectedEntityValue;$(".k-widget k-window k-display-inline-flex").addClass("leftpopup");$("a.k-grid-update").addClass("SAVEASDRAFT");model=e.model;model.Status=!1;model.dirty=!0;$("a.k-grid-cancel").addClass("btn btn-link");$("a.k-grid-update")[0].innerHTML="SAVE AS DRAFT";$("a.k-grid-cancel")[0].innerHTML="<span class='k-icon k-i-cancel'><\/span>CLOSE";$('<a class="k-button k-button-icontext k-primary k-grid-update custom"  href="#" k-icon k-i-delete"><\/span>SAVE & CLOSE<\/a>').insertBefore(".k-grid-update");$(".custom").click(function(){model.Status=!0});$(".SAVEASDRAFT").click(function(){model.Status=!1});$(".k-widget.k-window.k-display-inline-flex input").keyup(function(){var validatePopup=$(".k-popup-edit-form").kendoValidator().data("kendoValidator");validatePopup.validate();$($(this).closest("div")).children("div.field-validation-error").length>0&&($(this).val()==""?$($(this).closest("div")).children("div.field-validation-error").show():$($(this).closest("div")).children("div.field-validation-error").hide())});$(".k-widget.k-window.k-display-inline-flex input").change(function(){$($(this).closest("div")).children("div.field-validation-error").length>0&&($(this).val()==""?$($(this).closest("div")).children("div.field-validation-error").show():$($(this).closest("div")).children("div.field-validation-error").hide())});assetsName=$("#OriginOfTotalAssetsName").val();assetsName=="Other"&&$("#SpecifyOtherOriginDIV").css("display","block");isApplicationPermisssionEdit=="False"&&setAllPopUpInputElementDisabled();$("#hdnIsLegalEntity").val()=="True"&&(selectedEntityValue=$("#EntityTypeID").data("kendoDropDownList")!=undefined?$("#EntityTypeID").data("kendoDropDownList").text():"",selectedEntityValue=="Private Limited Company"||selectedEntityValue=="Public Limited Company"?($("#OriginOfTotalAssetsID_listbox .k-item").eq(9).show(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(10).show(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(11).show(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(13).show(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(0).show(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(12).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(7).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(5).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(1).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(3).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(8).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(2).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(4).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(6).hide()):selectedEntityValue=="General Partnership"||selectedEntityValue=="Limited Partnership"||selectedEntityValue=="Limited Liability Partnership"?($("#OriginOfTotalAssetsID_listbox .k-item").eq(9).show(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(10).show(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(11).show(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(13).show(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(0).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(12).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(7).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(5).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(1).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(3).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(8).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(2).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(4).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(6).hide()):selectedEntityValue=="Provident Fund"||selectedEntityValue=="Pension Fund"?($("#OriginOfTotalAssetsID_listbox .k-item").eq(9).show(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(11).show(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(12).show(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(13).show(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(10).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(0).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(7).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(5).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(1).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(3).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(8).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(2).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(4).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(6).hide()):selectedEntityValue=="Private Insurance Company"||selectedEntityValue=="Public Insurance Company"?($("#OriginOfTotalAssetsID_listbox .k-item").eq(9).show(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(11).show(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(0).show(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(13).show(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(10).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(12).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(7).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(5).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(1).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(3).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(8).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(2).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(4).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(6).hide()):selectedEntityValue=="Trust"?($("#OriginOfTotalAssetsID_listbox .k-item").eq(13).show(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(9).show(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(7).show(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(5).show(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(1).show(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(3).show(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(0).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(10).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(12).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(11).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(8).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(2).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(4).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(6).hide()):($("#OriginOfTotalAssetsID_listbox .k-item").eq(9).show(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(10).show(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(11).show(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(13).show(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(12).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(0).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(7).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(5).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(1).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(3).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(8).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(2).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(4).hide(),$("#OriginOfTotalAssetsID_listbox .k-item").eq(6).hide()))}function error_handlerOriginOfTotal(args){var errors=args.errors,grid;if(errors){grid=$("#OriginOfTotal").data("kendoGrid");grid.one("dataBinding",function(e){e.preventDefault();$.each(errors,function(key,value){var message="";"errors"in value&&$.each(value.errors,function(){message+=this+"\n"});grid.editable.element.find("[data-valmsg-for='"+key+"']").replaceWith('<div class="k-tooltip k-tooltip-error k-validator-tooltip k-invalid-msg field-validation-error" ><span class="k-tooltip-icon k-icon k-i-warning"> <\/span><span class="k-tooltip-content">'+message+'<\/span><div class="k-callout k-callout-n"><\/div><\/div>').show()})})}}function onPepDetailsDataBound(){$("#PepApplicant .k-grid-add").html("<span class='k-icon k-i-plus-circle mr-1'><\/span>New").addClass("new-contact").removeClass("k-button k-button-icontext");$("#PepApplicant .k-grid-content").attr("style","max-height: 400px");var grid=$("#PepApplicant").data("kendoGrid"),gridRows=grid.tbody.find("tr");gridRows.each(function(){var rowItem=grid.dataItem($(this));rowItem.PepApplicantID==0&&grid.removeRow(rowItem)});isAllPepDetailsConfirmed()}function onPepAssociateDataBound(){$("#PEPAssociates .k-grid-add").html("<span class='k-icon k-i-plus-circle mr-1'><\/span>New").addClass("new-contact").removeClass("k-button k-button-icontext");$("#PEPAssociates .k-grid-content").attr("style","max-height: 400px");var grid=$("#PEPAssociates").data("kendoGrid"),gridRows=grid.tbody.find("tr");gridRows.each(function(){var rowItem=grid.dataItem($(this));rowItem.PepAssociatesID==0&&grid.removeRow(rowItem)});isAllPepDetailsConfirmed()}function addConfirmButton_PEPDetails(e){$(".k-widget k-window k-display-inline-flex").addClass("leftpopup");$("a.k-grid-update").addClass("SAVEASDRAFT");var model=e.model;model.Status=!1;model.dirty=!0;$("a.k-grid-cancel").addClass("btn btn-link");$("a.k-grid-update")[0].innerHTML="SAVE AS DRAFT";$("a.k-grid-cancel")[0].innerHTML="<span class='k-icon k-i-cancel'><\/span>CLOSE";$('<a class="k-button k-button-icontext k-primary k-grid-update custom" href="#" k-icon k-i-delete"><\/span>SAVE & CLOSE<\/a>').insertBefore(".k-grid-update");$(".custom").click(function(){model.Status=!0});$(".SAVEASDRAFT").click(function(){model.Status=!1});$(".k-widget.k-window.k-display-inline-flex input").keyup(function(){var validatePopup=$(".k-popup-edit-form").kendoValidator().data("kendoValidator");validatePopup.validate();$($(this).closest("div")).children("div.field-validation-error").length>0&&($(this).val()==""?$($(this).closest("div")).children("div.field-validation-error").show():$(this).attr("id")=="PepApplicant_Since"||$(this).attr("id")=="PepApplicant_Untill"?validatePepDetailsDates(this):$($(this).closest("div")).children("div.field-validation-error").hide())});$(".k-widget.k-window.k-display-inline-flex input").change(function(){$($(this).closest("div")).children("div.field-validation-error").length>0&&($(this).val()==""?$($(this).closest("div")).children("div.field-validation-error").show():$(this).attr("id")=="PepApplicant_Since"||$(this).attr("id")=="PepApplicant_Untill"?validatePepDetailsDates(this):$($(this).closest("div")).children("div.field-validation-error").hide())});isApplicationPermisssionEdit=="False"&&setAllPopUpInputElementDisabled()}function validatePepDetailsDates(currentElement){$.ajax({url:$("#ValidatePepDatesUrl").val(),cache:!1,type:"POST",data:{since:$("#PepApplicant_Since").val(),untill:$("#PepApplicant_Untill").val()},success:function(result){result==!0?$($(currentElement).closest("div")).children("div.field-validation-error").hide():$($(currentElement).closest("div")).children("div.field-validation-error").show()}})}function addConfirmButton_PEPAssociates(e){$(".k-widget k-window k-display-inline-flex").addClass("leftpopup");$("a.k-grid-update").addClass("SAVEASDRAFT");var model=e.model;model.Status=!1;model.dirty=!0;$("a.k-grid-cancel").addClass("btn btn-link");$("a.k-grid-update")[0].innerHTML="SAVE AS DRAFT";$("a.k-grid-cancel")[0].innerHTML="<span class='k-icon k-i-cancel'><\/span>CLOSE";$('<a class="k-button k-button-icontext k-primary k-grid-update custom" href="#" k-icon k-i-delete"><\/span>SAVE & CLOSE<\/a>').insertBefore(".k-grid-update");$(".custom").click(function(){model.Status=!0});$(".SAVEASDRAFT").click(function(){model.Status=!1});$(".k-widget.k-window.k-display-inline-flex input").keyup(function(){var validatePopup=$(".k-popup-edit-form").kendoValidator().data("kendoValidator");validatePopup.validate();$($(this).closest("div")).children("div.field-validation-error").length>0&&($(this).val()==""?$($(this).closest("div")).children("div.field-validation-error").show():$(this).attr("id")=="PepAssociates_Since"||$(this).attr("id")=="PepAssociates_Until"?validatePepAssociatesDetailsDates(this):$($(this).closest("div")).children("div.field-validation-error").hide())});$(".k-widget.k-window.k-display-inline-flex input").change(function(){$($(this).closest("div")).children("div.field-validation-error").length>0&&($(this).val()==""?$($(this).closest("div")).children("div.field-validation-error").show():$(this).attr("id")=="PepAssociates_Since"||$(this).attr("id")=="PepAssociates_Until"?validatePepAssociatesDetailsDates(this):$($(this).closest("div")).children("div.field-validation-error").hide())});isApplicationPermisssionEdit=="False"&&setAllPopUpInputElementDisabled()}function validatePepAssociatesDetailsDates(currentElement){$.ajax({url:$("#ValidatePepDatesUrl").val(),cache:!1,type:"POST",data:{since:$("#PepAssociates_Since").val(),untill:$("#PepAssociates_Until").val()},success:function(result){result==!0?$($(currentElement).closest("div")).children("div.field-validation-error").hide():$($(currentElement).closest("div")).children("div.field-validation-error").show()}})}function error_handler(args){var errors=args.errors,grid;if(errors){grid=$("#PepApplicant").data("kendoGrid");grid.one("dataBinding",function(e){e.preventDefault();$.each(errors,function(key,value){var message="";"errors"in value&&$.each(value.errors,function(){message+=this+"\n"});grid.editable.element.find("[data-valmsg-for='"+key+"']").replaceWith('<div class="k-tooltip k-tooltip-error k-validator-tooltip k-invalid-msg field-validation-error" ><span class="k-tooltip-icon k-icon k-i-warning"> <\/span><span class="k-tooltip-content">'+message+'<\/span><div class="k-callout k-callout-n"><\/div><\/div>').show()})})}}function error_handlerPEPAssociates(args){var errors=args.errors,grid;if(errors){grid=$("#PEPAssociates").data("kendoGrid");grid.one("dataBinding",function(e){e.preventDefault();$.each(errors,function(key,value){var message="";"errors"in value&&$.each(value.errors,function(){message+=this+"\n"});grid.editable.element.find("[data-valmsg-for='"+key+"']").replaceWith('<div class="k-tooltip k-tooltip-error k-validator-tooltip k-invalid-msg field-validation-error" ><span class="k-tooltip-icon k-icon k-i-warning"> <\/span><span class="k-tooltip-content">'+message+'<\/span><div class="k-callout k-callout-n"><\/div><\/div>').show()})})}}function onchangeIsPepApplicant(){if(IsPepApplicant=="true")if($("#PepApplicant").data("kendoGrid").dataSource.total()>0){$("#pepDetailsReselctConfirmation").kendoWindow();var dialog=$("#pepDetailsReselctConfirmation").data("kendoWindow");dialog.wrapper.addClass("middle-popup");dialog.center().open()}else ShowNewPepApplicantBtn();else ShowNewPepApplicantBtn()}function onchangeIsPerAssociate(){if(IsPepAssociate=="true")if($("#PEPAssociates").data("kendoGrid").dataSource.total()>0){$("#pepDetailsFamilyReselctConfirmation").kendoWindow();var dialog=$("#pepDetailsFamilyReselctConfirmation").data("kendoWindow");dialog.wrapper.addClass("middle-popup");dialog.center().open()}else ShowNewPepAssociateBtn();else ShowNewPepAssociateBtn()}function ShowNewPepApplicantBtn(){var IsPep=$("#IsPepID").val();IsPep=="true"?($("#newbtnPepApplicant").css("display","block"),$("#newbtnPepApplicantID").css("display","block"),$("#PepApplicantGridView").css("display","block")):($("#newbtnPepApplicant").css("display","none"),$("#newbtnPepApplicantID").css("display","none"),$("#PepApplicantGridView").css("display","none"),$.ajax({url:$("#PEPApplicantPopup_DestroyAllUrl").val(),cache:!1,type:"POST",data:{id:$("#PersonalDetailsID").val()},success:function(){$("#PepApplicant").data("kendoGrid").dataSource.read();$("#PepApplicant").data("kendoGrid").refresh()}}));IsPepApplicant=IsPep;isAllPepDetailsConfirmed()}function ShowNewPepAssociateBtn(){var IsrelatedToPep=$("#IsRelatedToPepID").val();IsrelatedToPep=="true"?($("#newbtnPepAssociate").css("display","block"),$("#newbtnPepAssociateID").css("display","block"),$("#PepAssociateGridView").css("display","block")):($("#newbtnPepAssociate").css("display","none"),$("#newbtnPepAssociateID").css("display","none"),$("#PepAssociateGridView").css("display","none"),$.ajax({url:$("#PEPAssociatesPopup_DestroyAllUrl").val(),cache:!1,type:"POST",data:{id:$("#PersonalDetailsID").val()},success:function(){$("#PEPAssociates").data("kendoGrid").dataSource.read();$("#PEPAssociates").data("kendoGrid").refresh()}}));IsPepAssociate=IsrelatedToPep;isAllPepDetailsConfirmed()}function SelectPepDetailsYes(){var dialog=$("#pepDetailsReselctConfirmation").data("kendoWindow");dialog.close();ShowNewPepApplicantBtn()}function SelectPepDetailsNo(){var dialog=$("#pepDetailsReselctConfirmation").data("kendoWindow");dialog.close();$("#IsPepID").data("kendoDropDownList").value(IsPepApplicant)}function SelectPepDetailsFamilyYes(){var dialog=$("#pepDetailsFamilyReselctConfirmation").data("kendoWindow");dialog.close();ShowNewPepAssociateBtn()}function SelectPepDetailsFamilyNo(){var dialog=$("#pepDetailsFamilyReselctConfirmation").data("kendoWindow");dialog.close();$("#IsRelatedToPepID").data("kendoDropDownList").value(IsPepAssociate)}function onGridDataBoundSourceOfIncome(){$("#SourceOfIncome .k-grid-add").html("<span class='k-icon k-i-plus-circle mr-1'><\/span>New").addClass("new-contact").removeClass("k-button k-button-icontext");$("#SourceOfIncome .k-grid-content").attr("style","max-height: 400px");deleteEmptyGridRecord("SourceOfIncome");validateBusinessAndFinancialProfile()}function addConfirmButton_SourceOfIncome(e){$(".k-widget k-window k-display-inline-flex").addClass("leftpopup");$("a.k-grid-update").addClass("SAVEASDRAFT");var model=e.model;model.Status=!1;model.dirty=!0;$("a.k-grid-cancel").addClass("btn btn-link");$("a.k-grid-update")[0].innerHTML="SAVE AS DRAFT";$("a.k-grid-cancel")[0].innerHTML="<span class='k-icon k-i-cancel'><\/span>CLOSE";$('<a class="k-button k-button-icontext k-primary k-grid-update custom" href="#" k-icon k-i-delete"><\/span>SAVE & CLOSE<\/a>').insertBefore(".k-grid-update");$(".custom").click(function(){model.Status=!0;$(".k-widget.k-window.k-display-inline-flex input").each(function(){if($(this).closest("div").children("div.field-validation-error").length>0){var elementName=$(this).attr("name");$($(this).closest("div")).children("div.field-validation-error").remove();$($(this).closest("div")).append('<span class="field-validation-valid k-hidden" data-valmsg-for="'+elementName+'" data-valmsg-replace="true"><\/span>')}})});$(".SAVEASDRAFT").click(function(){model.Status=!1});$(".k-widget.k-window.k-display-inline-flex input").keyup(function(){var validatePopup=$(".k-popup-edit-form").kendoValidator().data("kendoValidator");validatePopup.validate();$($(this).closest("div")).children("div.field-validation-error").length>0&&($(this).val()==""?$($(this).closest("div")).children("div.field-validation-error").show():$($(this).closest("div")).children("div.field-validation-error").hide())});$(".k-widget.k-window.k-display-inline-flex input").change(function(){$($(this).closest("div")).children("div.field-validation-error").length>0&&($(this).val()==""?$($(this).closest("div")).children("div.field-validation-error").show():$($(this).closest("div")).children("div.field-validation-error").hide())});$("#SourceOfAnnualIncomeName").val()=="OTHER"&&$("#SpecifyOtherSourceID").css("display","block");isApplicationPermisssionEdit=="False"&&setAllPopUpInputElementDisabled()}function error_handlerAddressDetails(args){var errors=args.errors,grid;if(errors){grid=$("#SourceOfIncome").data("kendoGrid");grid.one("dataBinding",function(e){e.preventDefault();$.each(errors,function(key,value){var message="";"errors"in value&&$.each(value.errors,function(){message+=this+"\n"});grid.editable.element.find("[data-valmsg-for='"+key+"']").replaceWith('<div class="k-tooltip k-tooltip-error k-validator-tooltip k-invalid-msg field-validation-error" ><span class="k-tooltip-icon k-icon k-i-warning"> <\/span><span class="k-tooltip-content">'+message+'<\/span><div class="k-callout k-callout-n"><\/div><\/div>').show()})})}}function onTaxDataBound(){$("#TaxDetails .k-grid-add").html("<span class='k-icon k-i-plus-circle mr-1'><\/span>New").addClass("new-contact").removeClass("k-button k-button-icontext");$("#TaxDetails .k-grid-content").attr("style","max-height: 400px");var grid=$("#TaxDetails").data("kendoGrid"),gridRows=grid.tbody.find("tr");gridRows.each(function(){var rowItem=grid.dataItem($(this));console.log(rowItem.Id);rowItem.TaxDetailsID==0&&grid.removeRow(rowItem)});isAllConfirmed($("#hdnApplication_Applicant_LeftMenu_TaxDetails").val(),"Tax","TaxDetails");ValidateMenuTaxDetailsLegal()}function ValidateTax(){isAllConfirmed($("#hdnApplication_Applicant_LeftMenu_TaxDetails").val(),"Tax","TaxDetails")}function addConfirmButton_TaxDetails(e){var model,selectname;$("a.k-grid-update").addClass("SAVEASDRAFT");model=e.model;model.Status=!1;model.dirty=!0;$("a.k-grid-cancel").addClass("btn btn-link");$("a.k-grid-update")[0].innerHTML="SAVE AS DRAFT";$("a.k-grid-cancel")[0].innerHTML="<span class='k-icon k-i-cancel'><\/span>CLOSE";$('<a class="k-button k-button-icontext k-primary k-grid-update custom" href="#" k-icon k-i-delete"><\/span>SAVE & CLOSE<\/a>').insertBefore(".k-grid-update");$(".custom").click(function(){model.Status=!0});$(".SAVEASDRAFT").click(function(){model.Status=!1});$(".k-widget.k-window.k-display-inline-flex input").keyup(function(){var validatePopup=$(".k-popup-edit-form").kendoValidator().data("kendoValidator");validatePopup.validate();$($(this).closest("div")).children("div.field-validation-error").length>0&&($(this).val()==""?$($(this).closest("div")).children("div.field-validation-error").show():$(this).attr("id")=="TaxDetails_CountryOfTaxResidency"||$(this).attr("id")=="TaxDetails_TaxIdentificationNumber"||$(this).attr("id")=="TaxDetails_TinUnavailableReason"||$(this).attr("id")=="TaxDetails_JustificationForTinUnavalability"?ValidateTaxDetails(this):$($(this).closest("div")).children("div.field-validation-error").hide())});$(".k-widget.k-window.k-display-inline-flex input").change(function(){$($(this).closest("div")).children("div.field-validation-error").length>0&&($(this).val()==""?$($(this).closest("div")).children("div.field-validation-error").show():$(this).attr("id")=="TaxDetails_CountryOfTaxResidency"||$(this).attr("id")=="TaxDetails_TaxIdentificationNumber"||$(this).attr("id")=="TaxDetails_TinUnavailableReason"||$(this).attr("id")=="TaxDetails_JustificationForTinUnavalability"?ValidateTaxDetails(this):$($(this).closest("div")).children("div.field-validation-error").hide())});selectname=$("#TaxDetails_TinUnavailableReasonName").val();selectname.toUpperCase()=="CUSTOMER IS UNABLE TO OBTAIN TAX NUMBER"&&$("#JustificationForTinUnavalabilityID").css("display","block");isApplicationPermisssionEdit=="False"&&setAllPopUpInputElementDisabled()}function ValidateTaxDetails(currentElement){$.ajax({url:$("#ValidateTaxDetailsUrl").val(),cache:!1,type:"POST",data:{taxDetails_CountryOfTaxResidency:$("#TaxDetails_CountryOfTaxResidency").val(),taxDetails_TaxIdentificationNumber:$("#TaxDetails_TaxIdentificationNumber").val(),taxDetails_TinUnavailableReason:$("#TaxDetails_TinUnavailableReason").val(),taxDetails_JustificationForTinUnavalability:$("#TaxDetails_JustificationForTinUnavalability").val()},success:function(result){result==!0?$($(currentElement).closest("div")).children("div.field-validation-error").hide():$($(currentElement).closest("div")).children("div.field-validation-error").show()}})}function error_handlerTaxDetails(args){var errors=args.errors,grid;if(errors){grid=$("#TaxDetails").data("kendoGrid");grid.one("dataBinding",function(e){e.preventDefault();$.each(errors,function(key,value){var message="";"errors"in value&&$.each(value.errors,function(){message+=this+"\n"});grid.editable.element.find("[data-valmsg-for='"+key+"']").replaceWith('<div class="k-tooltip k-tooltip-error k-validator-tooltip k-invalid-msg field-validation-error" ><span class="k-tooltip-icon k-icon k-i-warning"> <\/span><span class="k-tooltip-content">'+message+'<\/span><div class="k-callout k-callout-n"><\/div><\/div>').show()})})}}function ShowTaxDetailsRespectedField(){var selectReasonName=$("#TaxDetails_TinUnavailableReason").data("kendoDropDownList").text();selectReasonName=="CUSTOMER IS UNABLE TO OBTAIN TAX NUMBER"?$("#JustificationForTinUnavalabilityID").css("display","block"):$("#JustificationForTinUnavalabilityID").css("display","none")}var rowIdenItem,isApplicationPermisssionEdit=$("#ApplicationIsEdit").val(),loadingPanelVisible,IsPepApplicant,IsPepAssociate,accordion;$(document).ready(function(){var selectedValue=$("#EmploymentStatusNameHdn").val();selectedValue!=null&&selectedValue!=""&&(selectedValue=="HOMEMAKER"||selectedValue=="STUDENT/MILITARY SERVICES"?($("#DIVProfession").css("display","none"),$("#DIVFormerProfession").css("display","none")):selectedValue=="PUBLIC SECTOR EMPLOYEE"||selectedValue=="SEMI-GOVERNMENT SECTOR EMPLOYEE"||selectedValue=="PRIVATE SECTOR EMPLOYEE"||selectedValue=="SELF-EMPLOYED"?($("#DIVProfession").css("display","block"),$("#DIVFormerProfession").css("display","none")):(selectedValue=="RETIRED"||selectedValue=="UNEMPLOYED")&&($("#DIVProfession").css("display","none"),$("#DIVFormerProfession").css("display","block")))});$("#accordionPersonDetails").kendoPanelBar({expandMode:"multiple"});accordion=$("#accordionPersonDetails").data("kendoPanelBar");$("#Id").val()>0&&accordion.collapse("#chartSection");$("#accordionCompanyDetails").kendoPanelBar({expandMode:"multiple"});accordion=$("#accordionCompanyDetails").data("kendoPanelBar");$("#Id").val()>0&&accordion!=undefined&&accordion.collapse("#chartSection");$("#accordionEmploymentDetails").kendoPanelBar({expandMode:"multiple"});accordion=$("#accordionEmploymentDetails").data("kendoPanelBar");accordion!=undefined&&accordion.collapse("#chartSection");$("#accordionCompanyBusinessProfile").kendoPanelBar({expandMode:"multiple"});accordion=$("#accordionCompanyBusinessProfile").data("kendoPanelBar");accordion!=undefined&&accordion.collapse("#chartSection");$("#accordionFinancialDetails").kendoPanelBar({expandMode:"multiple"});accordion=$("#accordionFinancialDetails").data("kendoPanelBar");accordion!=undefined&&accordion.collapse("#chartSection");$(document).ready(function(){isApplicationPermisssionEdit=="False"&&setAllInputElementDisabled("app-body-per")});$(document).ready(function(){ShowRespectedFieldUsingEntityType();manageMenuPanel();ShowRespectedFieldUsingCorporationIsengaged();$("#IsLegalEntity").val()=="False"&&$("#accordionContactDetailsContentOne").length>0&&(ChangeMaxLengthIndividualFaxNo(),ChangeMaxLengthIndividualWorkNo(),ChangeMaxLengthIndividualMobileNo(),ChangeMaxLengthIndividualHomeNo());$(".thousands-separator").each(function(){var value=$(this).val();value&&$(this).val(formatNumber(parseFloat(value).toFixed(2)))});$(".thousands-separator").focus(function(){var value=$(this).val().replace(/,/g,"");$(this).val(value)});$(".thousands-separator").blur(function(){var value=parseFloat($(this).val()).toFixed(2);$(this).val(formatNumber(value))})});$(document).on("input",".custom-numeric",function(){this.value=this.value.replace(/[^\d-]/g,"")});$(document).on("input",".custom-no-negetive-numeric",function(){this.value=this.value.replace(/\D/g,"")});$(document).on("input",".custom-decimal",function(){$(this).val($(this).val().replace(/[^\d.-]/g,""))});$(document).on("input",".custom-decimal-positive",function(){$(this).val($(this).val().replace(/[^\d.]/g,""))});$(document).on("input",".custom-negetive-decimal",function(){this.value=this.value.replace(/[^\d.-]/g,"")});window.addEventListener("load",function(){window.setTimeout(ValidateMenuTaxDetailsLegal,800)},!1);loadingPanelVisible=!1;$("#loader").kendoLoader({visible:!1});$(".btnSaveAsDraft").click(function(){CheckNetProfitLossValidate()&&CheckTurnoverValidate()&&CheckTotalAssetsValidate()?showHideLoader():HideLoader()});$("#btnFullConfirm").click(function(){CheckNetProfitLossValidate()&&CheckTurnoverValidate()&&CheckTotalAssetsValidate()?showHideLoader():HideLoader()});$("#btnApplicantClose").click(function(){showHideLoader()});$(".push-hide").click(function(){showHideLoader()});$("#accordionAddressDetails").kendoPanelBar({expandMode:"multiple"});accordion=$("#accordionAddressDetails").data("kendoPanelBar");accordion.collapse("#chartSection");$("#context-menuAddressDetails").kendoContextMenu({target:"#AddressDetails",showOn:"click",filter:"td:first-child",select:function(e){var row=$(e.target).parent()[0],grid=$("#AddressDetails").data("kendoGrid"),tr=$(e.target).closest("tr"),data=grid.dataItem(tr),item=e.item.id;switch(item){case"addRow":grid.addRow();break;case"editRowAdd":grid.editRow(row);break;case"removeRow":DisplayDeleteConfirmationContextMenu(e,data,"AddressDetails")}}});$("#accordionBankRelationship").kendoPanelBar({expandMode:"multiple"});accordion=$("#accordionBankRelationship").data("kendoPanelBar");accordion.collapse("#chartSection");$("#accordionContactDetails").kendoPanelBar({expandMode:"multiple"});accordion=$("#accordionContactDetails").data("kendoPanelBar");accordion.collapse("#chartSection");$("#accordionContactDetails").kendoPanelBar({expandMode:"multiple"});accordion=$("#accordionContactDetails").data("kendoPanelBar");accordion.collapse("#chartSection");$("#accordionCRSDetails").kendoPanelBar({expandMode:"multiple"});accordion=$("#accordionCRSDetails").data("kendoPanelBar");accordion.collapse("#chartSection");$(document).ready(function(){$("#CompanyCRSDetails_CRSClassification_Hdn").val()=="Financial Institution"?$("#CompanyCRSDetails_TypeofFinancialInstitution_DIV").css("display","block"):$("#CompanyCRSDetails_CRSClassification_Hdn").val()=="Active Non-Financial Entity (NFE)"&&$("#CompanyCRSDetails_TypeofActiveNonFinancialEntity_DIV").css("display","block");let text=$("#CompanyCRSDetails_TypeofActiveNonFinancialEntity_Hdn").val();text.match(/A corporation the stock of which is regularly traded on an established securities market or a corporation which is a Related Entity of such a corporation/gi)&&$("#CompanyCRSDetails_NameofEstablishedSecuritiesMarket_DIV").css("display","block")});$("#accordionFATCACSR").kendoPanelBar({expandMode:"multiple"});accordion=$("#accordionFATCACSR").data("kendoPanelBar");accordion.collapse("#chartSection");$("#accordionIdentificationDetails").kendoPanelBar({expandMode:"multiple"});accordion=$("#accordionIdentificationDetails").data("kendoPanelBar");accordion.collapse("#chartSection");$("#context-menuIdentificationDetails").kendoContextMenu({target:"#IdentificationDetails",showOn:"click",filter:"td:first-child",select:function(e){var row=$(e.target).parent()[0],grid=$("#IdentificationDetails").data("kendoGrid"),tr=$(e.target).closest("tr"),data=grid.dataItem(tr),item=e.item.id;switch(item){case"addRow":grid.addRow();break;case"editRowIden":grid.editRow(row);break;case"removeRow":DisplayDeleteConfirmationContextMenu(e,data,"IdentificationDetails")}}});$("#accordionOriginOfTotal").kendoPanelBar({expandMode:"multiple"});accordion=$("#accordionOriginOfTotal").data("kendoPanelBar");accordion.collapse("#chartSection");$("#context-menuOriginOfTotal").kendoContextMenu({target:"#OriginOfTotal",showOn:"click",filter:"td:first-child",select:function(e){var row=$(e.target).parent()[0],grid=$("#OriginOfTotal").data("kendoGrid"),tr=$(e.target).closest("tr"),data=grid.dataItem(tr),item=e.item.id;switch(item){case"addRow":grid.addRow();break;case"editRowOOT":grid.editRow(row);break;case"removeRow":DisplayDeleteConfirmationContextMenu(e,data,"OriginOfTotal")}}});$("#accordion").kendoPanelBar({expandMode:"multiple"});$("#accordion1").kendoPanelBar({expandMode:"multiple"});$("#accordion2").kendoPanelBar({expandMode:"multiple"});accordion=$("#accordion1").data("kendoPanelBar");accordion.collapse("#chartSection");accordion=$("#accordion2").data("kendoPanelBar");accordion.collapse("#chartSection");$("#context-menuPepApplicant").kendoContextMenu({target:"#PepApplicant",showOn:"click",filter:"td:first-child",select:function(e){var row=$(e.target).parent()[0],grid=$("#PepApplicant").data("kendoGrid"),tr=$(e.target).closest("tr"),data=grid.dataItem(tr),item=e.item.id;switch(item){case"addRow":grid.addRow();break;case"editRowPepApp":grid.editRow(row);break;case"removeRow":DisplayDeleteConfirmationContextMenu(e,data,"PepApplicant")}}});$("#context-menuPEPAssociates").kendoContextMenu({target:"#PEPAssociates",showOn:"click",filter:"td:first-child",select:function(e){var row=$(e.target).parent()[0],grid=$("#PEPAssociates").data("kendoGrid"),tr=$(e.target).closest("tr"),data=grid.dataItem(tr),item=e.item.id;switch(item){case"addRow":grid.addRow();break;case"editRowPepAss":grid.editRow(row);break;case"removeRow":DisplayDeleteConfirmationContextMenu(e,data,"PEPAssociates")}}});IsPepApplicant="";IsPepAssociate="";$(document).ready(function(){var IsPep=$("#IsPepID").val(),IsrelatedToPep;IsPep=="true"&&$("#PepApplicantGridView").css("display","block");IsrelatedToPep=$("#IsRelatedToPepID").val();IsrelatedToPep=="true"&&$("#PepAssociateGridView").css("display","block");IsPepApplicant=$("#IsPepID").val();IsPepAssociate=$("#IsRelatedToPepID").val()});$("#accordionSourceOfIncome").kendoPanelBar({expandMode:"multiple"});accordion=$("#accordionSourceOfIncome").data("kendoPanelBar");accordion.collapse("#chartSection");$("#context-menuSourceOfIncome").kendoContextMenu({target:"#SourceOfIncome",showOn:"click",filter:"td:first-child",select:function(e){var row=$(e.target).parent()[0],grid=$("#SourceOfIncome").data("kendoGrid"),tr=$(e.target).closest("tr"),data=grid.dataItem(tr),item=e.item.id;switch(item){case"addRow":grid.addRow();break;case"editRowSOIn":grid.editRow(row);break;case"removeRow":DisplayDeleteConfirmationContextMenu(e,data,"SourceOfIncome")}}});$("#accordionTaxDetails").kendoPanelBar({expandMode:"multiple"});accordion=$("#accordionTaxDetails").data("kendoPanelBar");accordion.collapse("#chartSection");$("#context-menuTaxDetails").kendoContextMenu({target:"#TaxDetails",showOn:"click",filter:"td:first-child",select:function(e){var row=$(e.target).parent()[0],grid=$("#TaxDetails").data("kendoGrid"),tr=$(e.target).closest("tr"),data=grid.dataItem(tr),item=e.item.id;switch(item){case"addRow":grid.addRow();break;case"editRowTax":grid.editRow(row);break;case"removeRow":DisplayDeleteConfirmationContextMenu(e,data,"TaxDetails")}}});